(this["webpackJsonplove-the-args"]=this["webpackJsonplove-the-args"]||[]).push([[0],{19:function(e,t,c){},34:function(e,t,c){},40:function(e,t,c){},46:function(e,t,c){},49:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c(8),a=c.n(o),r=(c(34),c(4)),i=(c(40),c(15)),A=c.n(i),s=(c(19),c(1));function d(e){var t=e.id,c=Object(r.c)((function(e){return e.blocks.present.notes[t]})),n=Object(r.c)((function(e){return e.blocks.present.views[t]})),o=Object(r.b)();return!1===n||void 0===n?Object(s.jsx)("div",{}):Object(s.jsx)(A.a,{id:t,class:"note",onSelect:function(){return o({type:"updateNote",payload:{id:t}})},onChange:function(){return o({type:"updateNote",payload:{id:t}})},onClick:function(e){if(e.ctrlKey||e.metaKey||e.shiftKey)return 0;o({type:"updateNote",payload:{id:t}})},value:c})}function l(e){var t=e.id,c=Object(r.b)();return Object(s.jsxs)("label",{className:"switch",children:[Object(s.jsx)("input",{type:"checkbox",onChange:function(){return c({type:"toggleNote",payload:{id:t}})}}),Object(s.jsx)("span",{className:"slider round"})]})}var u=c(17);function j(e){var t=e.id,c=function(e){var t=Object(n.useState)(e),c=Object(u.a)(t,2),o=c[0],a=c[1],r=o;return{get:function(){return r},set:function(e){return r=e,a(e),r}}}(0),o=Object(r.b)(),a=Object(r.c)((function(e){return e.blocks.present.txts}))[t];return Object(s.jsx)(A.a,{id:t,className:"text",placeholder:"paste hebrew here",onSelect:function(){var e=document.activeElement;c.set(e.selectionStart),o({type:"updateId",payload:{id:t,caret:c.get()}})},onChange:function(){var e=document.activeElement;c.set(e.selectionStart),o({type:"updateText",payload:{id:t,txt:document.activeElement.value,caret:c.get()}})},value:a})}function b(){return Object(r.c)((function(e){return e.blocks.present.order})).map((function(e){return Object(s.jsxs)("div",{className:"block",children:[Object(s.jsx)(l,{id:e}),Object(s.jsx)(j,{id:e}),Object(s.jsx)(d,{id:e})]},e)}))}c(46);var O=c(10),p=c.n(O);function g(){var e=Object(r.b)();return Object(s.jsx)("button",{type:"button",onClick:function(){return e({type:"mergeText"})},children:"merge"})}function f(){var e=Object(r.b)();return Object(s.jsx)("button",{type:"button",onClick:function(){return e({type:"splitText"})},children:"split"})}function h(){var e=Object(r.b)();return Object(s.jsx)("button",{type:"button",onClick:function(){return e(O.ActionCreators.redo())},children:"redo"})}function m(){var e=Object(r.b)();return Object(s.jsx)("button",{type:"button",onClick:function(){e(O.ActionCreators.undo())},children:"undo"})}c(49);var v=c(11),N=c(29),C=c.n(N),x=(c(53),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEwSURBVDiN1dFNK6xhGAfw3zyPt8epSVGasaApdcKeklj4BGflC1jIhuKLWFrYkNVZKhakrMRCEkU6HXVo5C2lkQxjY4HOM83bxn93X1f3r//dzXfNGFYruRjEzEPSjdipFYjRGyayJI6RqAEooH2E6TPCc9RXCSbed8kBZg6pv8KPasAPz4z6mT0iukRrDUBo6GP2gOYzdFYAFv7zEUEvM6e07KOvTDC2Q4apLG0bGPq6rSsdyh2wkuS2jYducrCIrjIb3m2xfE9THUcB2RQPIa/hV6wE8GKTuQwnf3jJ8fMZqWI3ioDrLcy3U+jBOGsRv66xUAmY598jBt7PJ+x10ZCmoxdRHBjGzA+x9HlU+Esyw1CW7UGsFGtaYqInJn+jUG7DmOTz7AYYRr6qbqXmDXXeQx0BaLXiAAAAAElFTkSuQmCC"),B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFISURBVDiN1dPBSpRhFIfx35lvBhkEEcrFaJEM1EJdBglRtuoaAi8haBORIHgN3oMuW4ngxghchLYIYjJQJJQQJ2IWUSnS4OdmxBz6dMbPjf/dOYf34TkHXq5rnmHpMg8LGf3EkB58uCqgeBqNeB51YQORG4iCiifxKnYkdlHKB4zWrM94TMW6kh/ozQM8XbPsQUzHF2XfceNywPa7FY3FVNT02sGdfIYnSYzG69jS7xPGujXMUqjGy6gb8BaP2sfFjkH7aulC2qfhpt/u+gPmMNydYcNKOpf+1KPos4I9Fb8kjiTtsIuBu96ls2nVhq+O7BvxF5VOl/o3k25bwWqrvue+1ZiJZRf88SzDpm8OMN6qN300rGTQLaMoZwGTjP465s90Utv6VeNx1L33EIvnmXaWssN4EW+Qdmv4/zQ1rSlgAs18dh3mGALgR6kw54/AAAAAAElFTkSuQmCC",k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF5SURBVDiN1dM/SEJRFMfx77tP6z0DMZPCFIqgP5C0CP0ZgobWoiEoaA+kJeE9CCe39mgJ2gKnaHoQQRE0RUQUlZBEZaC+6B+RPAgpWyLEkPLP0m+753I/nMPhwn/NNLBZyUNRoi4HW1vrJTioFcji6OjjcShk2iTpApCqBiUQfS0tIzfhcFKR5RRgrwoUkiQAfE7nYErTzh12+z3QUA34PaZbVQcedD3uVtU7oKlqEECtqwuYun7a7HAkgbayQfL5H4uwC9Gb0bTLNpfrBAiUB5bqQIiO6/l5s9vj2QGGi+9tf4XuLes0ZBjO66cnTyab7XywLIA1oL2sDq+en/fGYrGXRkWxbcTj4sg0vZlsVs59fMjF2K/gYTq927m01GEkEle593droqcnB3j/OlVhZob8/j1g/+vcNRsM7r9GIttU+MengK3Cgk0IMx+Nxvt9vltArQQtzuTq+PhmMhw2gJVagDSq6tvZ3Nw6kK8JCCwAy4BSK/DXfAJAEmjAhZgYGAAAAABJRU5ErkJggg==",y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGhSURBVDiN1ZO7SxxRFIe/e2fGcRw0PtFVE5eN2SWslY2CSCRdILUI/hOSQoQQCyWNKChikVKSUrAJiOAD1kJRC4MPiCbBFR8bZU2WVVfdWSeNBF+j+0iTrzvncj9+51wu/K+0AGPpXJQOfaUi260LxPy/EvKqtDncVt0dksivgMhYiECW6ZVNHd6+oCrUHUDLSCgREuCRVlD/1jewqsmsA8BMWygQf8fMUcy6Tt/QmqGYP4Gi9IRCXNtbltRqOn2Dy6aaFwSqUhbaiFsPIYX0v/P1fyvQir4ANSkJnRBIT4e3N1SiuyaBxpvnarKi48TR8ujecF74fL84Gv/97CRxBPARcKeU8PD8IDC81R/JUUx1JbIod2NBV9SKKAk7odyUPSjcPt2c7tlo96xFl35YF9aJP7c2DriSneoqrU+MpwFg7rL21hU2zXU9/zDBA3/cKaG1FfseA+ov6/WFXwG3LvXyx4bHDxhOQsWhvwp8utqwsTfztULPy5LXoZnweAPw+b6kSWEo5tmb6vcjgJ1qwjux7Lg1ezglgReAlWG+5PgDolNwtncDrn4AAAAASUVORK5CYII=",U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFOSURBVDiN1dPPSgJRFMfx7/yR1CCYKQRxYQiTi8SNYLkIegHBRVDQXvANegNfoE3grm24EiQoAlcSIoYmBOE4gcyE0yKEIGZhiyJEDP/MbPrt7jncD+dwufBfcwJUV7ko/lGXUinWBIF7r0CKRd5aLSxZ5gkQXIOCgJhMctjvY/j9DACfK1AUv3uRCPuDAY/BIENg3Q34u6aqsmfbdFWVV2DTNQgQCJCwLNqhEAYQXRpkxkP4fOyaJs/RKA9AYllw9gQiMV3Hise5BQ6m+/Ki0HBIu1BgQ9fZMk002wbgEtheasJej1o2y7uiIJfLiM0mYdNEchykaWwu2Ghwp2nEKhV6jsNHLocDhBfdajKnmQw1oP5z3snnqY9G3LDiHz8GricLsow1HtNNp3kBAqug0zkqlagaBhXgwgsQReGz0+EKGHsCAmfAOeD3CpybL9FoV7e/DIRGAAAAAElFTkSuQmCC",R={Mikrei:{cursor:x,color:"blue"},Din:{cursor:B,color:"green"},Taahm:{cursor:k,color:"pink"},Koteret:{cursor:y,color:"purple"},"\u05d0\u05de\u05d9\u05e8\u05d4":{cursor:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEmSURBVDiN1dNLK8RRFADw3zzkVcqQkgWpYUE2ymMhvoCyUJS98kl8A6XsbGWlpEjNapJEHqU0jNKMhoWUaKZYjKTJZGb+Ns7unnPvr3M6Xf5rzGO7lofhMvnIMPUhDv4KtMzjMdkolwgFBkOEh5i6Id3AHeoCgeHPWhdjd5w3kUNzEPBrzBijD1zEuEdbYBAaGcxy2kEa3VWDflhEHQMZrro5wWC1YLkOeq/J9rOHidJ6tFIox+kSLde0Z4g/FNPr6KmqwxSJaZ5aiW4SPqIzQyRPpBT7FTxkP07vFqk8LzPk0VnpVN9jYZwEkp/nvkWSz+yq8Y/PYed7Ikr2nYsRbtFYC1oas2tsp9nC6l+AWnk7YwPv5e5EqgFfKawUFzmJQsD+KosPAjpB0C8TyesAAAAASUVORK5CYII=",color:"red"},"\u05e9\u05d0\u05dc\u05d4":{cursor:U,color:"yellow"},"\u05ea\u05e9\u05d5\u05d1\u05d4":{cursor:x,color:"blue"},"\u05e7\u05d5\u05e9\u05d9\u05d0":{cursor:B,color:"green"},"\u05ea\u05d9\u05e8\u05d5\u05e5":{cursor:k,color:"pink"},"\u05e8\u05d0\u05d9\u05d4":{cursor:y,color:"purple"},"\u05e1\u05d9\u05d5\u05e2":{cursor:U,color:"yellow"}},w={mishnah:["Mikrei","Din","Taahm","Koteret"],talmud:["\u05d0\u05de\u05d9\u05e8\u05d4","\u05e9\u05d0\u05dc\u05d4","\u05ea\u05e9\u05d5\u05d1\u05d4","\u05e7\u05d5\u05e9\u05d9\u05d0","\u05ea\u05d9\u05e8\u05d5\u05e5","\u05e8\u05d0\u05d9\u05d4","\u05e1\u05d9\u05d5\u05e2"]},E="node_menu";function S(){var e=function(e,t,c){var n=t.target,o=t.mode;(0,t.dispatch)({type:"setMode",payload:{mode:o,id:n.id}})},t=Object(r.b)();return Object(s.jsx)(v.a,{id:E,className:"context-menu",children:Object.keys(w).map((function(c){return Object(s.jsx)(v.d,{title:c,children:w[c].map((function(c){return Object(s.jsx)(v.c,{onClick:e,data:{mode:c,dispatch:t},children:c},c)}))},c)}))})}c(54);function P(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.blocks.present.positions})),c=Object(r.c)((function(e){return e.blocks.present.order})),n=Object(r.c)((function(e){return e.blocks.present.txts}));return c.map((function(c){return function(e,t,c,n){var o=function(e,t){n({type:"updatePosition",payload:{id:e.srcElement.id,x:t.lastX+t.deltaX,y:t.lastY+t.deltaY}})},a=Object(u.a)(t,2),r=a[0],i=a[1];return Object(s.jsx)(v.b,{id:E,children:Object(s.jsx)(C.a,{onStop:o,onDrag:o,defaultPosition:{x:r,y:i},children:Object(s.jsx)("div",{className:"node",id:e,children:c})})},e)}(c,t[c],n[c],e)}))}var I=c(12),Q=c.n(I);function Y(){for(var e=Object(r.c)((function(e){return e.blocks.present.order})),t=(Object(r.c)((function(e){return e.blocks.present.positions})),{}),c=0;c<e.length-1;c+=1)t[e[c]]=e[c+1];var n=[];return Object.keys(t).forEach((function(e){return n.push(Object(s.jsx)(Q.a,{start:e,end:t[e],strokeWidth:1,lineColor:"grey",headColor:"grey",dashness:!0},e))})),n}function F(){var e=Object(r.c)((function(e){return e.blocks.present.graph})),t=Object(r.b)();return Object(n.useEffect)((function(){function c(c){return function(e,t,c){switch(e.target.classList[0]){case"react-contextmenu-item":break;case"node":null!==t.selectedNode&&(t.selectedNode===e.target.id||t.connections.includes([t.selectedNode,e.target.id])||c({type:"addConnection",payload:{connection:[t.selectedNode,e.target.id,t.mode]}})),c({type:"resetMode"});break;default:c({type:"resetMode"})}}(c,e,t)}return document.addEventListener("click",c),function(){document.removeEventListener("click",c)}}),[e]),Object(s.jsx)(s.Fragment,{})}function K(){var e=Object(r.c)((function(e){return e.blocks.present.graph.connections}));Object(r.c)((function(e){return e.blocks.present.positions}));return e.map((function(e){var t=e[0],c=e[1],n=e[2];return Object(s.jsx)(Q.a,{start:t,end:c,strokeWidth:3,headSize:5,lineColor:R[n].color,headColor:R[n].color,label:{middle:Object(s.jsx)("div",{className:"node_connection",style:{color:R[n].color,transform:"translate(100%, 0%)"},children:n[0]})},path:"grid"},t+c+n)}))}var G=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("div",{className:"graph",children:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"canvas",children:[Object(s.jsx)(P,{}),Object(s.jsx)(Y,{}),Object(s.jsx)(K,{})]}),Object(s.jsx)(S,{}),Object(s.jsx)(F,{})]})}),Object(s.jsxs)("div",{className:"right_panel",children:[Object(s.jsxs)("div",{className:"header_buttons",children:[m(),h(),g(),f()]}),Object(s.jsx)(b,{})]})]})},V=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),o(e),a(e),r(e)}))},D=c(9),L=c(18),z=c(7),M=c(3),T={caret:-1,activeId:"id1",order:["id1"],txts:{id1:""},notes:{id1:""},views:{id1:!1},positions:{id1:[0,0]},graph:{connections:[],mode:null,selectedNode:null}};var q=Object(D.b)({name:"args",initialState:{connection_color:null,tail_selected:!1,tail_id:null},reducers:{updateColor:function(e,t){e.connection_color=t.color,e.tail_selected=!1,e.tail_id=null},updateTail:function(e,t){e.tail_selected=!0,e.tail_id=t.id},resetToDragging:function(e){e.connection_color=null,e.tail_selected=!1,e.tail_id=null}}}),J=q.actions,H=(J.updateColor,J.updateTail,J.resetToDragging,q.reducer),X=Object(D.a)({reducer:{blocks:p()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateId":return Object(M.a)(Object(M.a)({},e),{},{caret:t.payload.caret,activeId:t.payload.id});case"updateText":return Object(M.a)(Object(M.a)({},e),{},{txts:Object(M.a)(Object(M.a)({},e.txts),{},Object(z.a)({},t.payload.id,t.payload.txt))});case"splitText":var c,n=e.activeId,o=e.order.indexOf(n),a=Object(D.c)(),r=e.txts[n].substr(0,e.caret),i=e.txts[n].substr(e.caret),A=Object(L.a)(e.order);A.splice(o+1,0,a);var s=e.positions[n],d=[s[0],s[1]+50];return Object(M.a)(Object(M.a)({},e),{},{activeId:a,order:A,txts:Object(M.a)(Object(M.a)({},e.txts),{},(c={},Object(z.a)(c,n,r),Object(z.a)(c,a,i),c)),notes:Object(M.a)(Object(M.a)({},e.notes),{},Object(z.a)({},a,"")),views:Object(M.a)(Object(M.a)({},e.views),{},Object(z.a)({},a,!1)),positions:Object(M.a)(Object(M.a)({},e.positions),{},Object(z.a)({},a,d))});case"mergeText":var l=e.activeId,u=e.order.indexOf(l);if(0===u)return e;var j=e.order[u-1],b=Object(L.a)(e.order);b.splice(u,1);var O=e.graph.connections.map((function(e){return e.map((function(e){return e===l?j:e}))})).filter((function(e){return e[0]!==e[1]}));return Object(M.a)(Object(M.a)({},e),{},{activeId:j,order:b,txts:Object(M.a)(Object(M.a)({},e.txts),{},Object(z.a)({},j,e.txts[j]+e.txts[l])),notes:Object(M.a)(Object(M.a)({},e.notes),{},Object(z.a)({},j,e.notes[j]+e.notes[l])),graph:Object(M.a)(Object(M.a)({},e.graph),{},{connections:O})});case"toggleNote":var p=t.payload.id;return Object(M.a)(Object(M.a)({},e),{},{views:Object(M.a)(Object(M.a)({},e.views),{},Object(z.a)({},p,!e.views[p]))});case"updateNote":var g=t.payload.id,f=document.activeElement;return Object(M.a)(Object(M.a)({},e),{},{notes:Object(M.a)(Object(M.a)({},e.notes),{},Object(z.a)({},g,f.value))});case"updatePosition":var h=t.payload,m=h.id,v=h.x,N=h.y;return Object(M.a)(Object(M.a)({},e),{},{positions:Object(M.a)(Object(M.a)({},e.positions),{},Object(z.a)({},m,[v,N]))});case"setMode":return Object(M.a)(Object(M.a)({},e),{},{graph:Object(M.a)(Object(M.a)({},e.graph),{},{mode:t.payload.mode,selectedNode:t.payload.id})});case"resetMode":return Object(M.a)(Object(M.a)({},e),{},{graph:Object(M.a)(Object(M.a)({},e.graph),{},{mode:null,selectedNode:null}),mode:"",id:null});case"addConnection":return Object(M.a)(Object(M.a)({},e),{},{graph:Object(M.a)(Object(M.a)({},e.graph),{},{connections:[].concat(Object(L.a)(e.graph.connections),[t.payload.connection])})});default:return e}}),{filter:Object(O.excludeAction)(["updateId","updateCaret","updatePosition","toggleNote","updateNote","resetMode","setMode"])}),args:H}});a.a.render(Object(s.jsx)(r.a,{store:X,children:Object(s.jsx)(G,{})}),document.getElementById("root")),V()}},[[60,1,2]]]);
//# sourceMappingURL=main.76927c0d.chunk.js.map