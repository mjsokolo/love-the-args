(this["webpackJsonplove-the-args"]=this["webpackJsonplove-the-args"]||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},45:function(t,e,n){},57:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(5),r=n.n(a),o=(n(33),n(34),n(13)),i=n(3),s=n(12),u=n.n(s),d=(n(15),n(2));function l(t,e,n,c){return!1===c||void 0===c?Object(d.jsx)("div",{}):Object(d.jsx)(u.a,{id:e,class:"note",onSelect:function(){return t({type:"updateNote",payload:{id:e}})},onChange:function(){return t({type:"updateNote",payload:{id:e}})},onClick:function(n){if(n.ctrlKey||n.metaKey||n.shiftKey)return 0;t({type:"updateNote",payload:{id:e}})},value:n})}function b(t,e){return Object(d.jsxs)("label",{className:"switch",children:[Object(d.jsx)("input",{type:"checkbox",onClick:function(){return t({type:"toggleNote",payload:{id:e}})}}),Object(d.jsx)("span",{class:"slider round"})]})}function j(t,e,n,c){return Object(d.jsx)(u.a,{id:e,class:"text",placeholder:"paste hebrew here",onSelect:function(){var n=document.activeElement;c.set(n.selectionStart);var a=c.get();t({type:"updateId",payload:{id:e,caret:a}})},onChange:function(){var n=document.activeElement;c.set(n.selectionStart),t({type:"updateText",payload:{id:e,txt:document.activeElement.value,caret:c.get()}})},value:n})}function O(){var t=Object(i.c)((function(t){return t.blocks.present.order})),e=Object(i.c)((function(t){return t.blocks.present.txts})),n=Object(i.c)((function(t){return t.blocks.present.notes})),a=Object(i.c)((function(t){return t.blocks.present.views})),r=function(t){var e=Object(c.useState)(t),n=Object(o.a)(e,2),a=n[0],r=n[1],i=a;return{get:function(){return i},set:function(t){return i=t,r(t),i}}}(0),s=Object(i.b)();return t.map((function(t){return Object(d.jsxs)("div",{class:"cell",children:[b(s,t),j(s,t,e[t],r),l(s,t,n[t],a[t])]})}))}n(45);var p=n(7),v=n.n(p);function f(){var t=Object(i.b)();return Object(d.jsx)("button",{type:"button",onClick:function(){return t({type:"mergeText"})},children:"merge"})}function x(){var t=Object(i.b)();return Object(d.jsx)("button",{type:"button",onClick:function(){return t({type:"splitText"})},children:"split"})}function h(){var t=Object(i.b)();return Object(d.jsx)("button",{type:"button",onClick:function(){return t(p.ActionCreators.redo())},children:"redo"})}function y(){var t=Object(i.b)();return Object(d.jsx)("button",{type:"button",onClick:function(){t(p.ActionCreators.undo())},children:"undo"})}n(16);var g=n(28),m=n.n(g);function k(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.blocks.present.positions})),n=Object(i.c)((function(t){return t.blocks.present.order})),c=Object(i.c)((function(t){return t.blocks.present.txts}));return n.map((function(n){return function(t,e,n,c){var a=function(t,e){var n=t.srcElement.id;c({type:"updatePosition",payload:{id:n,x:e.lastX+e.deltaX,y:e.lastY+e.deltaY}})},r=Object(o.a)(e,2),i=r[0],s=r[1];return Object(d.jsx)("div",{children:Object(d.jsx)(m.a,{onStop:a,onDrag:a,defaultPosition:{x:i,y:s},children:Object(d.jsx)("div",{className:"nodex",id:t,children:n})},t)})}(n,e[n],c[n],t)}))}var C=n(18),N=n.n(C);function _(){for(var t=Object(i.c)((function(t){return t.blocks.present.order})),e={},n=0;n<t.length-1;n++)e[t[n]]=t[n+1];var c=[];return Object.keys(e).forEach((function(t){return c.push(Object(d.jsx)(N.a,{start:t,end:e[t],strokeWidth:1,lineColor:"grey",dashness:!0,headColor:"grey"}))})),c}var w=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("div",{className:"graph",children:Object(d.jsxs)("div",{className:"canvas",children:[k(),_()]})}),Object(d.jsxs)("div",{className:"right_panel",children:[Object(d.jsxs)("div",{class:"header_buttons",children:[y(),h(),f(),x()]}),O()]})]})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),r(t),o(t)}))},I=n(6),S=n(20),E=n(4),P=n(1);var A=Object(I.b)({name:"args",initialState:{connection_color:null,tail_selected:!1,tail_id:null},reducers:{updateColor:function(t,e){t.connection_color=e.color,t.tail_selected=!1,t.tail_id=null},updateTail:function(t,e){t.tail_selected=!0,t.tail_id=e.id},resetToDragging:function(t){t.connection_color=null,t.tail_selected=!1,t.tail_id=null}}}),D=A.actions,F=(D.updateColor,D.updateTail,D.resetToDragging,A.reducer),K=Object(I.a)({reducer:{blocks:v()((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{caret:-1,activeId:"id1",order:["id1"],txts:{id1:""},notes:{id1:""},views:{id1:!1},positions:{id1:[0,0]}},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"updateId":return Object(P.a)(Object(P.a)({},t),{},{caret:e.payload.caret,activeId:e.payload.id});case"updateText":return Object(P.a)(Object(P.a)({},t),{},{txts:Object(P.a)(Object(P.a)({},t.txts),{},Object(E.a)({},e.payload.id,e.payload.txt))});case"splitText":var n,c=t.activeId,a=t.order.indexOf(c),r=Object(I.c)(),o=t.txts[c].substr(0,t.caret),i=t.txts[c].substr(t.caret),s=Object(S.a)(t.order);s.splice(a+1,0,r);var u=t.positions[c],d=[u[0],u[1]+50];return Object(P.a)(Object(P.a)({},t),{},{activeId:r,order:s,txts:Object(P.a)(Object(P.a)({},t.txts),{},(n={},Object(E.a)(n,c,o),Object(E.a)(n,r,i),n)),notes:Object(P.a)(Object(P.a)({},t.notes),{},Object(E.a)({},r,"")),views:Object(P.a)(Object(P.a)({},t.views),{},Object(E.a)({},r,!1)),positions:Object(P.a)(Object(P.a)({},t.positions),{},Object(E.a)({},r,d))});case"mergeText":var l=t.activeId,b=t.order.indexOf(l);if(0===b)return t;var j=t.order[b-1],O=Object(S.a)(t.order);return O.splice(b,1),Object(P.a)(Object(P.a)({},t),{},{activeId:j,order:O,txts:Object(P.a)(Object(P.a)({},t.txts),{},Object(E.a)({},j,t.txts[j]+t.txts[l])),notes:Object(P.a)(Object(P.a)({},t.notes),{},Object(E.a)({},j,t.notes[j]+t.notes[l]))});case"toggleNote":var p=e.payload.id;return Object(P.a)(Object(P.a)({},t),{},{views:Object(P.a)(Object(P.a)({},t.views),{},Object(E.a)({},p,!t.views[p]))});case"updateNote":var v=e.payload.id,f=document.activeElement;return Object(P.a)(Object(P.a)({},t),{},{notes:Object(P.a)(Object(P.a)({},t.notes),{},Object(E.a)({},v,f.value))});case"updatePosition":var x=e.payload,h=x.id,y=x.x,g=x.y;return Object(P.a)(Object(P.a)({},t),{},{positions:Object(P.a)(Object(P.a)({},t.positions),{},Object(E.a)({},h,[y,g]))});default:return t}}),{filter:Object(p.excludeAction)(["updateId","updateCaret","updatePosition","toggleNote","updateNote"])}),args:F}});r.a.render(Object(d.jsx)(i.a,{store:K,children:Object(d.jsx)(w,{})}),document.getElementById("root")),T()}},[[57,1,2]]]);
//# sourceMappingURL=main.a314b15b.chunk.js.map