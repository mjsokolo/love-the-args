(this["webpackJsonplove-the-args"]=this["webpackJsonplove-the-args"]||[]).push([[0],{112:function(e,t,n){},118:function(e,t,n){},220:function(e,t,n){},223:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n(26),r=n.n(c),a=(n(112),n(4)),i=(n(118),n(106)),s=n.n(i),l=(n(49),n(1));function d(e){var t=e.id,n=Object(a.c)((function(e){return e.blocks.present.notes[t]})),o=Object(a.c)((function(e){return e.blocks.present.views[t]})),c=Object(a.b)();return!1===o||void 0===o?Object(l.jsx)("div",{}):Object(l.jsx)(s.a,{id:t,class:"note",onSelect:function(){return c({type:"updateNote",payload:{id:t}})},onChange:function(){return c({type:"updateNote",payload:{id:t}})},onClick:function(e){if(e.ctrlKey||e.metaKey||e.shiftKey)return 0;c({type:"updateNote",payload:{id:t}})},value:n})}function A(e){var t=e.id,n=Object(a.b)();return Object(l.jsxs)("label",{className:"switch",children:[Object(l.jsx)("input",{type:"checkbox",onChange:function(){return n({type:"toggleNote",payload:{id:t}})}}),Object(l.jsx)("span",{className:"slider round"})]})}var u=n(48),b=n(5);function j(e){var t=e.getSelection().getAnchorOffset(),n=e.getCurrentContent().getPlainText().length,o=e.getSelection().getAnchorKey(),c=e.getCurrentContent().getLastBlock().key,r=e.getCurrentContent().getFirstBlock().key,a=b.SelectionState.createEmpty("blockkey").merge({anchorKey:o,anchorOffset:t,focusOffset:n,focusKey:c}),i=b.SelectionState.createEmpty("blockkey").merge({anchorKey:r,anchorOffset:0,focusKey:o,focusOffset:t}),s=b.Modifier.removeRange(e.getCurrentContent(),i,"forward"),l=b.Modifier.removeRange(e.getCurrentContent(),a,"forward");return{slice1:JSON.stringify(Object(b.convertToRaw)(l)),slice2:JSON.stringify(Object(b.convertToRaw)(s))}}function O(e){var t=e.getSelection(),n=t.getAnchorOffset()<t.getFocusOffset();return n?{anchorKey:t.getAnchorKey(),anchorOffset:t.getAnchorOffset(),focusKey:t.getFocusKey(),focusOffset:t.getFocusOffset(),isBackward:n}:{anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:n}}n(219);var f={TANNA:{color:"blue"},AMORA:{color:"green"},AMORA_MIDRASH:{color:"aqua"},STAM:{color:"purple"},STAM_MIDRASH:{color:"orange"},CLEAR:{color:"black"}};function p(e){var t=e.id,n=Object(a.c)((function(e){return e.blocks.present.txts}))[t],c=b.EditorState.createWithContent(Object(b.convertFromRaw)(JSON.parse(n))),r=Object(o.useState)((function(){return b.EditorState.createWithContent(Object(b.convertFromRaw)(JSON.parse(n)))})),i=Object(u.a)(r,2),s=i[0],d=i[1],A=Object(a.b)();return c.getCurrentContent().getPlainText()!==s.getCurrentContent().getPlainText()&&(console.log("infinite loop1"),d(c)),c.getCurrentInlineStyle()!==s.getCurrentInlineStyle()&&(console.log("infinite loop2"),console.log(c.getCurrentInlineStyle()),console.log(s.getCurrentInlineStyle()),console.log(c.getSelection()),console.log(c.getSelection()),d(c)),n!==JSON.stringify(Object(b.convertToRaw)(s.getCurrentContent()))&&(console.log("infinite loop3"),d(c)),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"text_editor",id:t,children:Object(l.jsx)(b.Editor,{customStyleMap:f,editorState:s,onChange:function(e){var n=e.getCurrentContent().getPlainText()===s.getCurrentContent().getPlainText();d(e),n?A({type:"updateSelection",payload:{id:t,split:j(e),selection:O(e)}}):(console.log(e.getSelection().getAnchorOffset()),A({type:"updateText",payload:{id:t,txt:JSON.stringify(Object(b.convertToRaw)(e.getCurrentContent())),split:j(e),selection:O(e)}}))}})})})}function g(){return Object(a.c)((function(e){return e.blocks.present.order})).map((function(e){return Object(l.jsxs)("div",{className:"block",children:[Object(l.jsx)(A,{id:e}),Object(l.jsx)(p,{id:e}),Object(l.jsx)(d,{id:e})]},e)}))}n(220);var h=n(28),m=n.n(h);function y(){var e=Object(a.b)();return Object(l.jsx)("button",{type:"button",onMouseDown:function(t){if(t.preventDefault(),"notranslate public-DraftEditor-content"===document.activeElement.getAttribute("class")){var n=document.activeElement.parentElement.parentElement.parentElement.id;e({type:"mergeText",payload:{id:n}})}},children:"merge"})}function v(){var e=Object(a.b)();return Object(l.jsx)("button",{type:"button",onMouseLeave:function(e){return e.preventDefault()},onMouseDown:function(t){if(t.preventDefault(),"notranslate public-DraftEditor-content"===document.activeElement.getAttribute("class")){var n=document.activeElement.parentElement.parentElement.parentElement.id;e({type:"splitText",payload:{id:n}})}},children:"split"})}function C(){var e=Object(a.b)();return Object(l.jsx)("button",{type:"button",onClick:function(){return e(h.ActionCreators.redo())},children:"redo"})}function S(){var e=Object(a.b)();return Object(l.jsx)("button",{type:"button",onClick:function(){e(h.ActionCreators.undo())},children:"undo"})}function x(e){var t=Object(a.b)(),n=Object(a.c)((function(e){return e.blocks.present.txts})),o=Object(a.c)((function(e){return e.blocks.present.selections}));return Object(l.jsx)("button",{type:"button","data-style":e.dataStyle,onMouseUp:function(e){return e.preventDefault()},onMouseDown:function(e){if(e.preventDefault(),"notranslate public-DraftEditor-content"===document.activeElement.getAttribute("class")){var c=e.currentTarget.getAttribute("data-style"),r=document.activeElement.parentElement.parentElement.parentElement.id,a=Object(b.convertFromRaw)(JSON.parse(n[r])),i=function(e){var t=e.anchorKey,n=e.anchorOffset,o=e.focusKey,c=e.focusOffset;return b.SelectionState.createEmpty("blockkey").merge({anchorKey:t,anchorOffset:n,focusKey:o,focusOffset:c,isBackward:!1})}(o[r]);console.log("prior to update: ",i.getAnchorKey(),i.getAnchorOffset());var s=b.EditorState.createWithContent(a);s=b.EditorState.acceptSelection(s,i),s=k(s),s=b.RichUtils.toggleInlineStyle(s,c),console.log("after update:",s.getSelection().getAnchorKey(),s.getSelection().getAnchorOffset()),t({type:"updateText",payload:{id:r,txt:JSON.stringify(Object(b.convertToRaw)(s.getCurrentContent())),split:j(s),selection:O(s)}})}},children:e.name})}function N(){return Object(l.jsxs)("div",{className:"header_buttons",children:[Object(l.jsx)(S,{}),Object(l.jsx)(C,{}),Object(l.jsx)(y,{}),Object(l.jsx)(v,{}),Object(l.jsx)(x,{dataStyle:"TANNA",name:"Tannaitic"}),Object(l.jsx)(x,{dataStyle:"AMORA",name:"Amoraic"}),Object(l.jsx)(x,{dataStyle:"AMORA_MIDRASH",name:"Tannaitic from Amora"}),Object(l.jsx)(x,{dataStyle:"STAM",name:"Stam"}),Object(l.jsx)(x,{dataStyle:"STAM_MIDRASH",name:"Tannaitic from Stam"}),Object(l.jsx)(x,{dataStyle:"CLEAR",name:"Clear"})]})}var k=function(e){var t=e.getCurrentContent(),n=["TANNA","AMORA","AMORA_MIDRASH","STAM","STAM_MIDRASH","CLEAR"].reduce((function(t,n){return b.Modifier.removeInlineStyle(t,e.getSelection(),n)}),t);return b.EditorState.push(e,n,"change-inline-style")},E=(n(223),n(17)),R=n(107),B=n.n(R),w=(n(227),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEwSURBVDiN1dFNK6xhGAfw3zyPt8epSVGasaApdcKeklj4BGflC1jIhuKLWFrYkNVZKhakrMRCEkU6HXVo5C2lkQxjY4HOM83bxn93X1f3r//dzXfNGFYruRjEzEPSjdipFYjRGyayJI6RqAEooH2E6TPCc9RXCSbed8kBZg6pv8KPasAPz4z6mT0iukRrDUBo6GP2gOYzdFYAFv7zEUEvM6e07KOvTDC2Q4apLG0bGPq6rSsdyh2wkuS2jYducrCIrjIb3m2xfE9THUcB2RQPIa/hV6wE8GKTuQwnf3jJ8fMZqWI3ioDrLcy3U+jBOGsRv66xUAmY598jBt7PJ+x10ZCmoxdRHBjGzA+x9HlU+Esyw1CW7UGsFGtaYqInJn+jUG7DmOTz7AYYRr6qbqXmDXXeQx0BaLXiAAAAAElFTkSuQmCC"),U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFISURBVDiN1dPBSpRhFIfx35lvBhkEEcrFaJEM1EJdBglRtuoaAi8haBORIHgN3oMuW4ngxghchLYIYjJQJJQQJ2IWUSnS4OdmxBz6dMbPjf/dOYf34TkHXq5rnmHpMg8LGf3EkB58uCqgeBqNeB51YQORG4iCiifxKnYkdlHKB4zWrM94TMW6kh/ozQM8XbPsQUzHF2XfceNywPa7FY3FVNT02sGdfIYnSYzG69jS7xPGujXMUqjGy6gb8BaP2sfFjkH7aulC2qfhpt/u+gPmMNydYcNKOpf+1KPos4I9Fb8kjiTtsIuBu96ls2nVhq+O7BvxF5VOl/o3k25bwWqrvue+1ZiJZRf88SzDpm8OMN6qN300rGTQLaMoZwGTjP465s90Utv6VeNx1L33EIvnmXaWssN4EW+Qdmv4/zQ1rSlgAs18dh3mGALgR6kw54/AAAAAAElFTkSuQmCC",K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF5SURBVDiN1dM/SEJRFMfx77tP6z0DMZPCFIqgP5C0CP0ZgobWoiEoaA+kJeE9CCe39mgJ2gKnaHoQQRE0RUQUlZBEZaC+6B+RPAgpWyLEkPLP0m+753I/nMPhwn/NNLBZyUNRoi4HW1vrJTioFcji6OjjcShk2iTpApCqBiUQfS0tIzfhcFKR5RRgrwoUkiQAfE7nYErTzh12+z3QUA34PaZbVQcedD3uVtU7oKlqEECtqwuYun7a7HAkgbayQfL5H4uwC9Gb0bTLNpfrBAiUB5bqQIiO6/l5s9vj2QGGi+9tf4XuLes0ZBjO66cnTyab7XywLIA1oL2sDq+en/fGYrGXRkWxbcTj4sg0vZlsVs59fMjF2K/gYTq927m01GEkEle593droqcnB3j/OlVhZob8/j1g/+vcNRsM7r9GIttU+MengK3Cgk0IMx+Nxvt9vltArQQtzuTq+PhmMhw2gJVagDSq6tvZ3Nw6kK8JCCwAy4BSK/DXfAJAEmjAhZgYGAAAAABJRU5ErkJggg==",P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGhSURBVDiN1ZO7SxxRFIe/e2fGcRw0PtFVE5eN2SWslY2CSCRdILUI/hOSQoQQCyWNKChikVKSUrAJiOAD1kJRC4MPiCbBFR8bZU2WVVfdWSeNBF+j+0iTrzvncj9+51wu/K+0AGPpXJQOfaUi260LxPy/EvKqtDncVt0dksivgMhYiECW6ZVNHd6+oCrUHUDLSCgREuCRVlD/1jewqsmsA8BMWygQf8fMUcy6Tt/QmqGYP4Gi9IRCXNtbltRqOn2Dy6aaFwSqUhbaiFsPIYX0v/P1fyvQir4ANSkJnRBIT4e3N1SiuyaBxpvnarKi48TR8ujecF74fL84Gv/97CRxBPARcKeU8PD8IDC81R/JUUx1JbIod2NBV9SKKAk7odyUPSjcPt2c7tlo96xFl35YF9aJP7c2DriSneoqrU+MpwFg7rL21hU2zXU9/zDBA3/cKaG1FfseA+ov6/WFXwG3LvXyx4bHDxhOQsWhvwp8utqwsTfztULPy5LXoZnweAPw+b6kSWEo5tmb6vcjgJ1qwjux7Lg1ezglgReAlWG+5PgDolNwtncDrn4AAAAASUVORK5CYII=",I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFOSURBVDiN1dPPSgJRFMfx7/yR1CCYKQRxYQiTi8SNYLkIegHBRVDQXvANegNfoE3grm24EiQoAlcSIoYmBOE4gcyE0yKEIGZhiyJEDP/MbPrt7jncD+dwufBfcwJUV7ko/lGXUinWBIF7r0CKRd5aLSxZ5gkQXIOCgJhMctjvY/j9DACfK1AUv3uRCPuDAY/BIENg3Q34u6aqsmfbdFWVV2DTNQgQCJCwLNqhEAYQXRpkxkP4fOyaJs/RKA9AYllw9gQiMV3Hise5BQ6m+/Ki0HBIu1BgQ9fZMk002wbgEtheasJej1o2y7uiIJfLiM0mYdNEchykaWwu2Ghwp2nEKhV6jsNHLocDhBfdajKnmQw1oP5z3snnqY9G3LDiHz8GricLsow1HtNNp3kBAqug0zkqlagaBhXgwgsQReGz0+EKGHsCAmfAOeD3CpybL9FoV7e/DIRGAAAAAElFTkSuQmCC",M={Mikrei:{cursor:w,color:"blue"},Din:{cursor:U,color:"green"},Taahm:{cursor:K,color:"pink"},Koteret:{cursor:P,color:"purple"},"\u05d0\u05de\u05d9\u05e8\u05d4":{cursor:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEmSURBVDiN1dNLK8RRFADw3zzkVcqQkgWpYUE2ymMhvoCyUJS98kl8A6XsbGWlpEjNapJEHqU0jNKMhoWUaKZYjKTJZGb+Ns7unnPvr3M6Xf5rzGO7lofhMvnIMPUhDv4KtMzjMdkolwgFBkOEh5i6Id3AHeoCgeHPWhdjd5w3kUNzEPBrzBijD1zEuEdbYBAaGcxy2kEa3VWDflhEHQMZrro5wWC1YLkOeq/J9rOHidJ6tFIox+kSLde0Z4g/FNPr6KmqwxSJaZ5aiW4SPqIzQyRPpBT7FTxkP07vFqk8LzPk0VnpVN9jYZwEkp/nvkWSz+yq8Y/PYed7Ikr2nYsRbtFYC1oas2tsp9nC6l+AWnk7YwPv5e5EqgFfKawUFzmJQsD+KosPAjpB0C8TyesAAAAASUVORK5CYII=",color:"red"},"\u05e9\u05d0\u05dc\u05d4":{cursor:I,color:"yellow"},"\u05ea\u05e9\u05d5\u05d1\u05d4":{cursor:w,color:"blue"},"\u05e7\u05d5\u05e9\u05d9\u05d0":{cursor:U,color:"green"},"\u05ea\u05d9\u05e8\u05d5\u05e5":{cursor:K,color:"pink"},"\u05e8\u05d0\u05d9\u05d4":{cursor:P,color:"purple"},"\u05e1\u05d9\u05d5\u05e2":{cursor:I,color:"yellow"}},F={mishnah:["Mikrei","Din","Taahm","Koteret"],talmud:["\u05d0\u05de\u05d9\u05e8\u05d4","\u05e9\u05d0\u05dc\u05d4","\u05ea\u05e9\u05d5\u05d1\u05d4","\u05e7\u05d5\u05e9\u05d9\u05d0","\u05ea\u05d9\u05e8\u05d5\u05e5","\u05e8\u05d0\u05d9\u05d4","\u05e1\u05d9\u05d5\u05e2"]},T="node_menu";function D(){var e=function(e,t,n){var o=t.target,c=t.mode;(0,t.dispatch)({type:"setMode",payload:{mode:c,id:o.id}})},t=Object(a.b)();return Object(l.jsx)(E.a,{id:T,className:"context-menu",children:Object.keys(F).map((function(n){return Object(l.jsx)(E.d,{title:n,children:F[n].map((function(n){return Object(l.jsx)(E.c,{onClick:e,data:{mode:n,dispatch:t},children:n},n)}))},n)}))})}n(228);function Q(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.blocks.present.positions})),n=Object(a.c)((function(e){return e.blocks.present.order})),o=Object(a.c)((function(e){return e.blocks.present.txts}));return n.map((function(n){return function(e,t,n,o){var c=function(e,t){o({type:"updatePosition",payload:{id:e.srcElement.id,x:t.lastX+t.deltaX,y:t.lastY+t.deltaY}})},r=Object(u.a)(t,2),a=r[0],i=r[1];return Object(l.jsx)(E.b,{id:T,children:Object(l.jsx)(B.a,{onStop:c,onDrag:c,defaultPosition:{x:a,y:i},children:Object(l.jsx)("div",{className:"node",id:e,children:Object(b.convertFromRaw)(JSON.parse(n)).getPlainText()})},e)},e)}(n,t[n],o[n],e)}))}var Y=n(33),L=n.n(Y);function G(){for(var e=Object(a.c)((function(e){return e.blocks.present.order})),t=(Object(a.c)((function(e){return e.blocks.present.positions})),{}),n=0;n<e.length-1;n+=1)t[e[n]]=e[n+1];var o=[];return Object.keys(t).forEach((function(e){return o.push(Object(l.jsx)(L.a,{start:e,end:t[e],strokeWidth:1,lineColor:"grey",headColor:"grey",dashness:!0},e))})),o}var V="connection_menu";function J(){var e=Object(a.b)();return Object(l.jsx)(E.a,{id:V,children:Object(l.jsx)(E.c,{onClick:function(e,t,n){var o=t.target,c=t.reducerType;(0,t.dispatch)({type:c,payload:{id:o.parentElement.parentElement.id}})},data:{reducerType:"deleteConnection",dispatch:e},children:"Delete"},"deleteConnection")})}function z(){var e=Object(a.c)((function(e){return e.blocks.present.graph})),t=Object(a.b)();return Object(o.useEffect)((function(){function n(n){return function(e,t,n){switch(e.target.classList[0]){case"react-contextmenu-item":break;case"node":null!==t.selectedNode&&(t.selectedNode===e.target.id||t.connections.includes([t.selectedNode,e.target.id])||n({type:"addConnection",payload:{connection:[t.selectedNode,e.target.id,t.mode]}})),n({type:"resetMode"});break;default:n({type:"resetMode"})}}(n,e,t)}return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[e]),Object(l.jsx)(l.Fragment,{})}n(233);function H(){var e=Object(a.c)((function(e){return e.blocks.present.graph.connections})),t=(Object(a.c)((function(e){return e.blocks.present.positions})),{});return e.map((function(e){var n=e[0],o=e[1],c=e[2];t.hasOwnProperty(n)?t[n]+=1:t[n]=0,t.hasOwnProperty(o)?t[o]+=1:t[o]=0;var r=t[n];r%2===0?r/=-2:(r+=1,r/=2);var a=t[o];a%2===0?a/=-2:(a+=1,a/=2);t[n];return Object(l.jsx)(E.b,{id:V,children:Object(l.jsx)(L.a,{id:n+o+c,start:n,end:o,startAnchor:[{position:"right",offset:{bottomness:10*r,rightness:0}},{position:"left",offset:{bottomness:10*r,rightness:0}},{position:"bottom",offset:{bottomness:0,rightness:10*r}},{position:"top",offset:{bottomness:0,rightness:10*r}}],endAnchor:[{position:"right",offset:{bottomness:10*a,rightness:0}},{position:"left",offset:{bottomness:10*a,rightness:0}},{position:"bottom",offset:{bottomness:0,rightness:10*a}},{position:"top",offset:{bottomness:0,rightness:10*a}}],strokeWidth:3,headSize:5,lineColor:M[c].color,headColor:M[c].color,arrowBodyProps:{className:"arrow_body"},arrowHeadProps:{className:"arrow_head"},SVGcanvasProps:{className:"svg"},label:{middle:Object(l.jsx)("div",{className:"arrow_label",style:{color:M[c].color,transform:"translate(100%, 0%)"},children:c[0]})}},n+o+c)},n+o+c)}))}var q=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("div",{className:"graph",children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"canvas",children:[Object(l.jsx)(Q,{}),Object(l.jsx)(G,{}),Object(l.jsx)(H,{})]}),Object(l.jsx)(D,{}),Object(l.jsx)(J,{}),Object(l.jsx)(z,{})]})}),Object(l.jsxs)("div",{className:"right_panel",children:[Object(l.jsx)(N,{}),Object(l.jsx)(g,{})]})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,235)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),o(e),c(e),r(e),a(e)}))},X=n(27),Z=n(35),_=n(10),$=n(2),ee={caret:-1,activeId:"id1",order:["id1"],txts:{id1:JSON.stringify(Object(b.convertToRaw)(b.EditorState.createEmpty().getCurrentContent()))},splits:{id1:{slice1:0,slice2:0}},selections:{id1:{anchorKey:0,anchorOffset:0,focusKey:0,focusOffset:0}},notes:{id1:""},views:{id1:!1},positions:{id1:[0,0]},graph:{connections:[],mode:null,selectedNode:null}};var te=Object(X.b)({name:"args",initialState:{connection_color:null,tail_selected:!1,tail_id:null},reducers:{updateColor:function(e,t){e.connection_color=t.color,e.tail_selected=!1,e.tail_id=null},updateTail:function(e,t){e.tail_selected=!0,e.tail_id=t.id},resetToDragging:function(e){e.connection_color=null,e.tail_selected=!1,e.tail_id=null}}}),ne=te.actions,oe=(ne.updateColor,ne.updateTail,ne.resetToDragging,te.reducer),ce=Object(X.a)({reducer:{blocks:m()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateId":return Object($.a)(Object($.a)({},e),{},{caret:t.payload.caret,activeId:t.payload.id});case"updateText":return Object($.a)(Object($.a)({},e),{},{txts:Object($.a)(Object($.a)({},e.txts),{},Object(_.a)({},t.payload.id,t.payload.txt)),splits:Object($.a)(Object($.a)({},e.splits),{},Object(_.a)({},t.payload.id,t.payload.split)),selections:Object($.a)(Object($.a)({},e.selections),{},Object(_.a)({},t.payload.id,t.payload.selection))});case"updateSelection":return Object($.a)(Object($.a)({},e),{},{splits:Object($.a)(Object($.a)({},e.splits),{},Object(_.a)({},t.payload.id,t.payload.split)),selections:Object($.a)(Object($.a)({},e.selections),{},Object(_.a)({},t.payload.id,t.payload.selection))});case"splitText":var n,o,c=t.payload.id,r=e.order.indexOf(c),a=Object(X.c)(),i=e.splits[c].slice1,s=e.splits[c].slice2,l=Object(Z.a)(e.order);l.splice(r+1,0,a);var d=e.positions[c],A=[d[0],d[1]+100];return Object($.a)(Object($.a)({},e),{},{activeId:a,order:l,txts:Object($.a)(Object($.a)({},e.txts),{},(n={},Object(_.a)(n,c,i),Object(_.a)(n,a,s),n)),splits:Object($.a)(Object($.a)({},e.splits),{},(o={},Object(_.a)(o,c,{slice1:0,slice2:0}),Object(_.a)(o,a,{slice1:0,slice2:0}),o)),notes:Object($.a)(Object($.a)({},e.notes),{},Object(_.a)({},a,"")),views:Object($.a)(Object($.a)({},e.views),{},Object(_.a)({},a,!1)),positions:Object($.a)(Object($.a)({},e.positions),{},Object(_.a)({},a,A))});case"mergeText":var u=t.payload.id,j=e.order.indexOf(u);if(0===j)return e;var O=e.order[j-1],f=Object(Z.a)(e.order);f.splice(j,1);var p=e.graph.connections.map((function(e){return e.map((function(e){return e===u?O:e}))})).filter((function(e){return e[0]!==e[1]})),g=new Set(p.map((function(e){return e.join()})));p=Object(Z.a)(g).map((function(e){return e.split(",")}));var h=Object(b.convertFromRaw)(JSON.parse(e.txts[O])),m=Object(b.convertFromRaw)(JSON.parse(e.txts[u])),y=b.EditorState.createWithContent(m).getSelection(),v=y.getAnchorKey(),C=b.SelectionState.createEmpty("blockkey").merge({anchorKey:v,anchorOffset:0,focusKey:v,focusOffset:0}),S=b.Modifier.replaceWithFragment(m,C,h.getBlockMap());return Object($.a)(Object($.a)({},e),{},{activeId:O,order:f,txts:Object($.a)(Object($.a)({},e.txts),{},Object(_.a)({},O,JSON.stringify(Object(b.convertToRaw)(S)))),splits:Object($.a)(Object($.a)({},e.splits),{},Object(_.a)({},O,{slice1:0,slice2:0})),notes:Object($.a)(Object($.a)({},e.notes),{},Object(_.a)({},O,e.notes[O]+e.notes[u])),graph:Object($.a)(Object($.a)({},e.graph),{},{connections:p})});case"toggleNote":var x=t.payload.id;return Object($.a)(Object($.a)({},e),{},{views:Object($.a)(Object($.a)({},e.views),{},Object(_.a)({},x,!e.views[x]))});case"updateNote":var N=t.payload.id,k=document.activeElement;return Object($.a)(Object($.a)({},e),{},{notes:Object($.a)(Object($.a)({},e.notes),{},Object(_.a)({},N,k.value))});case"updatePosition":var E=t.payload,R=E.id,B=E.x,w=E.y;return Object($.a)(Object($.a)({},e),{},{positions:Object($.a)(Object($.a)({},e.positions),{},Object(_.a)({},R,[B,w]))});case"setMode":return Object($.a)(Object($.a)({},e),{},{graph:Object($.a)(Object($.a)({},e.graph),{},{mode:t.payload.mode,selectedNode:t.payload.id})});case"resetMode":return Object($.a)(Object($.a)({},e),{},{graph:Object($.a)(Object($.a)({},e.graph),{},{mode:null,selectedNode:null}),mode:"",id:null});case"addConnection":return e.graph.connections.filter((function(e){return e.toString()===t.payload.connection.toString()})).length>0&&e.graph.connections.length>0?e:Object($.a)(Object($.a)({},e),{},{graph:Object($.a)(Object($.a)({},e.graph),{},{connections:[].concat(Object(Z.a)(e.graph.connections),[t.payload.connection])})});case"deleteConnection":var U=e.graph.connections.filter((function(e){return e[0]+e[1]+e[2]!==t.payload.id}));return Object($.a)(Object($.a)({},e),{},{graph:Object($.a)(Object($.a)({},e.graph),{},{connections:U})});default:return e}}),{filter:Object(h.excludeAction)(["updateId","updateCaret","updatePosition","toggleNote","updateNote","resetMode","setMode","updateSelection"])}),args:oe}});r.a.render(Object(l.jsx)(a.a,{store:ce,children:Object(l.jsx)(q,{})}),document.getElementById("root")),W()},49:function(e,t,n){}},[[234,1,2]]]);
//# sourceMappingURL=main.1596085b.chunk.js.map