(this["webpackJsonplove-the-args"]=this["webpackJsonplove-the-args"]||[]).push([[0],{19:function(e,t,n){},26:function(e,t,n){},35:function(e,t,n){},41:function(e,t,n){},47:function(e,t,n){},50:function(e,t,n){},54:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(9),a=n.n(o),r=(n(35),n(4)),i=(n(41),n(15)),A=n.n(i),s=(n(19),n(1));function d(e){var t=e.id,n=Object(r.c)((function(e){return e.blocks.present.notes[t]})),c=Object(r.c)((function(e){return e.blocks.present.views[t]})),o=Object(r.b)();return!1===c||void 0===c?Object(s.jsx)("div",{}):Object(s.jsx)(A.a,{id:t,class:"note",onSelect:function(){return o({type:"updateNote",payload:{id:t}})},onChange:function(){return o({type:"updateNote",payload:{id:t}})},onClick:function(e){if(e.ctrlKey||e.metaKey||e.shiftKey)return 0;o({type:"updateNote",payload:{id:t}})},value:n})}function l(e){var t=e.id,n=Object(r.b)();return Object(s.jsxs)("label",{className:"switch",children:[Object(s.jsx)("input",{type:"checkbox",onChange:function(){return n({type:"toggleNote",payload:{id:t}})}}),Object(s.jsx)("span",{className:"slider round"})]})}var u=n(17);function j(e){var t=e.id,n=function(e){var t=Object(c.useState)(e),n=Object(u.a)(t,2),o=n[0],a=n[1],r=o;return{get:function(){return r},set:function(e){return r=e,a(e),r}}}(0),o=Object(r.b)(),a=Object(r.c)((function(e){return e.blocks.present.txts}))[t];return Object(s.jsx)(A.a,{id:t,className:"text",placeholder:"paste hebrew here",onSelect:function(){var e=document.activeElement;n.set(e.selectionStart),o({type:"updateId",payload:{id:t,caret:n.get()}})},onChange:function(){var e=document.activeElement;n.set(e.selectionStart),o({type:"updateText",payload:{id:t,txt:document.activeElement.value,caret:n.get()}})},value:a})}function b(){return Object(r.c)((function(e){return e.blocks.present.order})).map((function(e){return Object(s.jsxs)("div",{className:"block",children:[Object(s.jsx)(l,{id:e}),Object(s.jsx)(j,{id:e}),Object(s.jsx)(d,{id:e})]},e)}))}n(47);var O=n(11),p=n.n(O);function g(){var e=Object(r.b)();return Object(s.jsx)("button",{type:"button",onClick:function(){return e({type:"mergeText"})},children:"merge"})}function h(){var e=Object(r.b)();return Object(s.jsx)("button",{type:"button",onClick:function(){return e({type:"splitText"})},children:"split"})}function f(){var e=Object(r.b)();return Object(s.jsx)("button",{type:"button",onClick:function(){return e(O.ActionCreators.redo())},children:"redo"})}function m(){var e=Object(r.b)();return Object(s.jsx)("button",{type:"button",onClick:function(){e(O.ActionCreators.undo())},children:"undo"})}n(50);var v=n(8),x=n(30),C=n.n(x),N=(n(26),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEwSURBVDiN1dFNK6xhGAfw3zyPt8epSVGasaApdcKeklj4BGflC1jIhuKLWFrYkNVZKhakrMRCEkU6HXVo5C2lkQxjY4HOM83bxn93X1f3r//dzXfNGFYruRjEzEPSjdipFYjRGyayJI6RqAEooH2E6TPCc9RXCSbed8kBZg6pv8KPasAPz4z6mT0iukRrDUBo6GP2gOYzdFYAFv7zEUEvM6e07KOvTDC2Q4apLG0bGPq6rSsdyh2wkuS2jYducrCIrjIb3m2xfE9THUcB2RQPIa/hV6wE8GKTuQwnf3jJ8fMZqWI3ioDrLcy3U+jBOGsRv66xUAmY598jBt7PJ+x10ZCmoxdRHBjGzA+x9HlU+Esyw1CW7UGsFGtaYqInJn+jUG7DmOTz7AYYRr6qbqXmDXXeQx0BaLXiAAAAAElFTkSuQmCC"),B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFISURBVDiN1dPBSpRhFIfx35lvBhkEEcrFaJEM1EJdBglRtuoaAi8haBORIHgN3oMuW4ngxghchLYIYjJQJJQQJ2IWUSnS4OdmxBz6dMbPjf/dOYf34TkHXq5rnmHpMg8LGf3EkB58uCqgeBqNeB51YQORG4iCiifxKnYkdlHKB4zWrM94TMW6kh/ozQM8XbPsQUzHF2XfceNywPa7FY3FVNT02sGdfIYnSYzG69jS7xPGujXMUqjGy6gb8BaP2sfFjkH7aulC2qfhpt/u+gPmMNydYcNKOpf+1KPos4I9Fb8kjiTtsIuBu96ls2nVhq+O7BvxF5VOl/o3k25bwWqrvue+1ZiJZRf88SzDpm8OMN6qN300rGTQLaMoZwGTjP465s90Utv6VeNx1L33EIvnmXaWssN4EW+Qdmv4/zQ1rSlgAs18dh3mGALgR6kw54/AAAAAAElFTkSuQmCC",k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF5SURBVDiN1dM/SEJRFMfx77tP6z0DMZPCFIqgP5C0CP0ZgobWoiEoaA+kJeE9CCe39mgJ2gKnaHoQQRE0RUQUlZBEZaC+6B+RPAgpWyLEkPLP0m+753I/nMPhwn/NNLBZyUNRoi4HW1vrJTioFcji6OjjcShk2iTpApCqBiUQfS0tIzfhcFKR5RRgrwoUkiQAfE7nYErTzh12+z3QUA34PaZbVQcedD3uVtU7oKlqEECtqwuYun7a7HAkgbayQfL5H4uwC9Gb0bTLNpfrBAiUB5bqQIiO6/l5s9vj2QGGi+9tf4XuLes0ZBjO66cnTyab7XywLIA1oL2sDq+en/fGYrGXRkWxbcTj4sg0vZlsVs59fMjF2K/gYTq927m01GEkEle593droqcnB3j/OlVhZob8/j1g/+vcNRsM7r9GIttU+MengK3Cgk0IMx+Nxvt9vltArQQtzuTq+PhmMhw2gJVagDSq6tvZ3Nw6kK8JCCwAy4BSK/DXfAJAEmjAhZgYGAAAAABJRU5ErkJggg==",y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGhSURBVDiN1ZO7SxxRFIe/e2fGcRw0PtFVE5eN2SWslY2CSCRdILUI/hOSQoQQCyWNKChikVKSUrAJiOAD1kJRC4MPiCbBFR8bZU2WVVfdWSeNBF+j+0iTrzvncj9+51wu/K+0AGPpXJQOfaUi260LxPy/EvKqtDncVt0dksivgMhYiECW6ZVNHd6+oCrUHUDLSCgREuCRVlD/1jewqsmsA8BMWygQf8fMUcy6Tt/QmqGYP4Gi9IRCXNtbltRqOn2Dy6aaFwSqUhbaiFsPIYX0v/P1fyvQir4ANSkJnRBIT4e3N1SiuyaBxpvnarKi48TR8ujecF74fL84Gv/97CRxBPARcKeU8PD8IDC81R/JUUx1JbIod2NBV9SKKAk7odyUPSjcPt2c7tlo96xFl35YF9aJP7c2DriSneoqrU+MpwFg7rL21hU2zXU9/zDBA3/cKaG1FfseA+ov6/WFXwG3LvXyx4bHDxhOQsWhvwp8utqwsTfztULPy5LXoZnweAPw+b6kSWEo5tmb6vcjgJ1qwjux7Lg1ezglgReAlWG+5PgDolNwtncDrn4AAAAASUVORK5CYII=",U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFOSURBVDiN1dPPSgJRFMfx7/yR1CCYKQRxYQiTi8SNYLkIegHBRVDQXvANegNfoE3grm24EiQoAlcSIoYmBOE4gcyE0yKEIGZhiyJEDP/MbPrt7jncD+dwufBfcwJUV7ko/lGXUinWBIF7r0CKRd5aLSxZ5gkQXIOCgJhMctjvY/j9DACfK1AUv3uRCPuDAY/BIENg3Q34u6aqsmfbdFWVV2DTNQgQCJCwLNqhEAYQXRpkxkP4fOyaJs/RKA9AYllw9gQiMV3Hise5BQ6m+/Ki0HBIu1BgQ9fZMk002wbgEtheasJej1o2y7uiIJfLiM0mYdNEchykaWwu2Ghwp2nEKhV6jsNHLocDhBfdajKnmQw1oP5z3snnqY9G3LDiHz8GricLsow1HtNNp3kBAqug0zkqlagaBhXgwgsQReGz0+EKGHsCAmfAOeD3CpybL9FoV7e/DIRGAAAAAElFTkSuQmCC",E={Mikrei:{cursor:N,color:"blue"},Din:{cursor:B,color:"green"},Taahm:{cursor:k,color:"pink"},Koteret:{cursor:y,color:"purple"},"\u05d0\u05de\u05d9\u05e8\u05d4":{cursor:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEmSURBVDiN1dNLK8RRFADw3zzkVcqQkgWpYUE2ymMhvoCyUJS98kl8A6XsbGWlpEjNapJEHqU0jNKMhoWUaKZYjKTJZGb+Ns7unnPvr3M6Xf5rzGO7lofhMvnIMPUhDv4KtMzjMdkolwgFBkOEh5i6Id3AHeoCgeHPWhdjd5w3kUNzEPBrzBijD1zEuEdbYBAaGcxy2kEa3VWDflhEHQMZrro5wWC1YLkOeq/J9rOHidJ6tFIox+kSLde0Z4g/FNPr6KmqwxSJaZ5aiW4SPqIzQyRPpBT7FTxkP07vFqk8LzPk0VnpVN9jYZwEkp/nvkWSz+yq8Y/PYed7Ikr2nYsRbtFYC1oas2tsp9nC6l+AWnk7YwPv5e5EqgFfKawUFzmJQsD+KosPAjpB0C8TyesAAAAASUVORK5CYII=",color:"red"},"\u05e9\u05d0\u05dc\u05d4":{cursor:U,color:"yellow"},"\u05ea\u05e9\u05d5\u05d1\u05d4":{cursor:N,color:"blue"},"\u05e7\u05d5\u05e9\u05d9\u05d0":{cursor:B,color:"green"},"\u05ea\u05d9\u05e8\u05d5\u05e5":{cursor:k,color:"pink"},"\u05e8\u05d0\u05d9\u05d4":{cursor:y,color:"purple"},"\u05e1\u05d9\u05d5\u05e2":{cursor:U,color:"yellow"}},R={mishnah:["Mikrei","Din","Taahm","Koteret"],talmud:["\u05d0\u05de\u05d9\u05e8\u05d4","\u05e9\u05d0\u05dc\u05d4","\u05ea\u05e9\u05d5\u05d1\u05d4","\u05e7\u05d5\u05e9\u05d9\u05d0","\u05ea\u05d9\u05e8\u05d5\u05e5","\u05e8\u05d0\u05d9\u05d4","\u05e1\u05d9\u05d5\u05e2"]},w="node_menu";function S(){var e=function(e,t,n){var c=t.target,o=t.mode;(0,t.dispatch)({type:"setMode",payload:{mode:o,id:c.id}})},t=Object(r.b)();return Object(s.jsx)(v.a,{id:w,className:"context-menu",children:Object.keys(R).map((function(n){return Object(s.jsx)(v.d,{title:n,children:R[n].map((function(n){return Object(s.jsx)(v.c,{onClick:e,data:{mode:n,dispatch:t},children:n},n)}))},n)}))})}n(54);function P(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.blocks.present.positions})),n=Object(r.c)((function(e){return e.blocks.present.order})),c=Object(r.c)((function(e){return e.blocks.present.txts}));return n.map((function(n){return function(e,t,n,c){var o=function(e,t){c({type:"updatePosition",payload:{id:e.srcElement.id,x:t.lastX+t.deltaX,y:t.lastY+t.deltaY}})},a=Object(u.a)(t,2),r=a[0],i=a[1];return Object(s.jsx)(v.b,{id:w,children:Object(s.jsx)(C.a,{onStop:o,onDrag:o,defaultPosition:{x:r,y:i},children:Object(s.jsx)("div",{className:"node",id:e,children:n})},e)},e)}(n,t[n],c[n],e)}))}var I=n(12),Q=n.n(I);function Y(){for(var e=Object(r.c)((function(e){return e.blocks.present.order})),t=(Object(r.c)((function(e){return e.blocks.present.positions})),{}),n=0;n<e.length-1;n+=1)t[e[n]]=e[n+1];var c=[];return Object.keys(t).forEach((function(e){return c.push(Object(s.jsx)(Q.a,{start:e,end:t[e],strokeWidth:1,lineColor:"grey",headColor:"grey",dashness:!0},e))})),c}var F="connection_menu";function K(){var e=Object(r.b)();return Object(s.jsx)(v.a,{id:F,className:"context-menu",children:Object(s.jsx)(v.c,{onClick:function(e,t,n){var c=t.target,o=t.reducerType;(0,t.dispatch)({type:o,payload:{id:c.parentElement.parentElement.id}})},data:{reducerType:"deleteConnection",dispatch:e},children:"delete"},"deleteConnection")})}function G(){var e=Object(r.c)((function(e){return e.blocks.present.graph})),t=Object(r.b)();return Object(c.useEffect)((function(){function n(n){return function(e,t,n){switch(e.target.classList[0]){case"react-contextmenu-item":break;case"node":null!==t.selectedNode&&(t.selectedNode===e.target.id||t.connections.includes([t.selectedNode,e.target.id])||n({type:"addConnection",payload:{connection:[t.selectedNode,e.target.id,t.mode]}})),n({type:"resetMode"});break;default:n({type:"resetMode"})}}(n,e,t)}return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[e]),Object(s.jsx)(s.Fragment,{})}function V(){var e=Object(r.c)((function(e){return e.blocks.present.graph.connections}));Object(r.c)((function(e){return e.blocks.present.positions}));return e.map((function(e){var t=e[0],n=e[1],c=e[2];return Object(s.jsx)(v.b,{id:F,children:Object(s.jsx)(Q.a,{id:t+n+c,start:t,end:n,strokeWidth:3,headSize:5,lineColor:E[c].color,headColor:E[c].color,label:{middle:Object(s.jsx)("div",{className:"node_connection",style:{color:E[c].color,transform:"translate(100%, 0%)"},children:c[0]})},path:"grid"},t+n+c)},t+n+c)}))}var D=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("div",{className:"graph",children:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"canvas",children:[Object(s.jsx)(P,{}),Object(s.jsx)(Y,{}),Object(s.jsx)(V,{})]}),Object(s.jsx)(S,{}),Object(s.jsx)(K,{}),Object(s.jsx)(G,{})]})}),Object(s.jsxs)("div",{className:"right_panel",children:[Object(s.jsxs)("div",{className:"header_buttons",children:[m(),f(),g(),h()]}),Object(s.jsx)(b,{})]})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),a(e),r(e)}))},z=n(10),M=n(18),T=n(7),q=n(3),J={caret:-1,activeId:"id1",order:["id1"],txts:{id1:""},notes:{id1:""},views:{id1:!1},positions:{id1:[0,0]},graph:{connections:[],mode:null,selectedNode:null}};var H=Object(z.b)({name:"args",initialState:{connection_color:null,tail_selected:!1,tail_id:null},reducers:{updateColor:function(e,t){e.connection_color=t.color,e.tail_selected=!1,e.tail_id=null},updateTail:function(e,t){e.tail_selected=!0,e.tail_id=t.id},resetToDragging:function(e){e.connection_color=null,e.tail_selected=!1,e.tail_id=null}}}),X=H.actions,W=(X.updateColor,X.updateTail,X.resetToDragging,H.reducer),Z=Object(z.a)({reducer:{blocks:p()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateId":return Object(q.a)(Object(q.a)({},e),{},{caret:t.payload.caret,activeId:t.payload.id});case"updateText":return Object(q.a)(Object(q.a)({},e),{},{txts:Object(q.a)(Object(q.a)({},e.txts),{},Object(T.a)({},t.payload.id,t.payload.txt))});case"splitText":var n,c=e.activeId,o=e.order.indexOf(c),a=Object(z.c)(),r=e.txts[c].substr(0,e.caret),i=e.txts[c].substr(e.caret),A=Object(M.a)(e.order);A.splice(o+1,0,a);var s=e.positions[c],d=[s[0],s[1]+50];return Object(q.a)(Object(q.a)({},e),{},{activeId:a,order:A,txts:Object(q.a)(Object(q.a)({},e.txts),{},(n={},Object(T.a)(n,c,r),Object(T.a)(n,a,i),n)),notes:Object(q.a)(Object(q.a)({},e.notes),{},Object(T.a)({},a,"")),views:Object(q.a)(Object(q.a)({},e.views),{},Object(T.a)({},a,!1)),positions:Object(q.a)(Object(q.a)({},e.positions),{},Object(T.a)({},a,d))});case"mergeText":var l=e.activeId,u=e.order.indexOf(l);if(0===u)return e;var j=e.order[u-1],b=Object(M.a)(e.order);b.splice(u,1);var O=e.graph.connections.map((function(e){return e.map((function(e){return e===l?j:e}))})).filter((function(e){return e[0]!==e[1]}));return Object(q.a)(Object(q.a)({},e),{},{activeId:j,order:b,txts:Object(q.a)(Object(q.a)({},e.txts),{},Object(T.a)({},j,e.txts[j]+e.txts[l])),notes:Object(q.a)(Object(q.a)({},e.notes),{},Object(T.a)({},j,e.notes[j]+e.notes[l])),graph:Object(q.a)(Object(q.a)({},e.graph),{},{connections:O})});case"toggleNote":var p=t.payload.id;return Object(q.a)(Object(q.a)({},e),{},{views:Object(q.a)(Object(q.a)({},e.views),{},Object(T.a)({},p,!e.views[p]))});case"updateNote":var g=t.payload.id,h=document.activeElement;return Object(q.a)(Object(q.a)({},e),{},{notes:Object(q.a)(Object(q.a)({},e.notes),{},Object(T.a)({},g,h.value))});case"updatePosition":var f=t.payload,m=f.id,v=f.x,x=f.y;return Object(q.a)(Object(q.a)({},e),{},{positions:Object(q.a)(Object(q.a)({},e.positions),{},Object(T.a)({},m,[v,x]))});case"setMode":return Object(q.a)(Object(q.a)({},e),{},{graph:Object(q.a)(Object(q.a)({},e.graph),{},{mode:t.payload.mode,selectedNode:t.payload.id})});case"resetMode":return Object(q.a)(Object(q.a)({},e),{},{graph:Object(q.a)(Object(q.a)({},e.graph),{},{mode:null,selectedNode:null}),mode:"",id:null});case"addConnection":return Object(q.a)(Object(q.a)({},e),{},{graph:Object(q.a)(Object(q.a)({},e.graph),{},{connections:[].concat(Object(M.a)(e.graph.connections),[t.payload.connection])})});case"deleteConnection":var C=e.graph.connections.filter((function(e){return e[0]+e[1]+e[2]!==t.payload.id}));return console.log(C),console.log(t.payload.id),Object(q.a)(Object(q.a)({},e),{},{graph:Object(q.a)(Object(q.a)({},e.graph),{},{connections:C})});default:return e}}),{filter:Object(O.excludeAction)(["updateId","updateCaret","updatePosition","toggleNote","updateNote","resetMode","setMode"])}),args:W}});a.a.render(Object(s.jsx)(r.a,{store:Z,children:Object(s.jsx)(D,{})}),document.getElementById("root")),L()}},[[60,1,2]]]);
//# sourceMappingURL=main.47894b59.chunk.js.map