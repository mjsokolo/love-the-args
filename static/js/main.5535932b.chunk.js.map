{"version":3,"sources":["features/blocks/Note.js","features/blocks/Text.js","features/blocks/Blocks.js","features/HeaderButtons/HeaderButtons.js","features/graph/cursors/blue.png","features/graph/cursors/green.png","features/graph/cursors/pink.png","features/graph/cursors/purple.png","features/graph/cursors/yellow.png","features/graph/GraphContextMenu.js","features/graph/cursors/red.png","features/graph/Nodes.js","features/graph/SequentialPath.js","features/graph/ConnectionContextMenu.js","features/graph/NodeConnectionListener.js","features/graph/NodeConnections.js","App.js","features/graph/Graph.js","reportWebVitals.js","features/blocks/BlocksReducer.js","features/ArgButtons/ArgButtonsSlice.js","app/store.js","index.js"],"names":["Note","id","note","useSelector","state","blocks","present","notes","view","views","dispatch","useDispatch","undefined","class","onSelect","type","payload","onChange","onClick","e","ctrlKey","metaKey","shiftKey","value","ToggleNoteButton","className","Text","caretCounter","initialValue","useState","trait","updateTrait","current","get","set","newValue","useTrait","txt","txts","placeholder","document","activeElement","selectionStart","caret","Blocks","order","map","MergeButton","SplitButton","RedoButton","ActionCreators","redo","UndoButton","undo","MODES","Mikrei","cursor","blue","color","Din","green","Taahm","pink","Koteret","purple","אמירה","שאלה","yellow","תשובה","קושיא","תירוץ","ראיה","סיוע","LAYOUT","mishnah","talmud","NodeMenuId","GraphContextMenu","handleClick","event","data","element","target","mode","Object","keys","book","title","Nodes","positions","position","handleDrag","d","srcElement","x","lastX","deltaX","y","lastY","deltaY","onStop","onDrag","defaultPosition","Node","SequentialPath","links","i","length","path","forEach","key","push","start","end","strokeWidth","lineColor","headColor","dashness","ConnectionMenuId","ConnectionContextMenu","reducerType","parentElement","NodeConnectionListener","graph","useEffect","f","classList","selectedNode","connections","includes","connection","addEventListener","removeEventListener","NodeConnections","anchors","hasOwnProperty","sideStartOffset","sideEndOffset","longStartOffset","startAnchor","offset","bottomness","rightness","endAnchor","headSize","arrowBodyProps","arrowHeadProps","SVGcanvasProps","label","middle","style","transform","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","activeId","id1","ArgButtonsSlice","createSlice","name","connection_color","tail_selected","tail_id","reducers","updateColor","action","updateTail","resetToDragging","actions","configureStore","reducer","undoable","index","indexOf","id2","nanoid","textOne","substr","textTwo","newOrder","splice","pos","newPosition","idx","newConnections","filter","c","toString","excludeAction","args","ArgsButtonsReducer","ReactDOM","render","store","getElementById"],"mappings":"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","file":"static/js/main.5535932b.chunk.js","sourcesContent":["import React from 'react';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport './Blocks.css';\nimport { useSelector, useDispatch } from 'react-redux';\n\nfunction Note({ id }) {\n  const note = useSelector((state) => state.blocks.present.notes[id]);\n  const view = useSelector((state) => state.blocks.present.views[id]);\n  const dispatch = useDispatch();\n  if (view === false || view === undefined) {\n    return <div />;\n  }\n  return (\n    <TextareaAutosize\n      id={id}\n      class=\"note\"\n      onSelect={() => dispatch({ type: 'updateNote', payload: { id } })}\n      onChange={() => dispatch({ type: 'updateNote', payload: { id } })}\n      onClick={(e) => {\n        if (e.ctrlKey || e.metaKey || e.shiftKey) return 0; // ignore shift clicks\n        dispatch({ type: 'updateNote', payload: { id } });\n      }}\n      value={note}\n    />\n  );\n}\n\nfunction ToggleNoteButton({ id }) {\n  const dispatch = useDispatch();\n  return (\n    <label className=\"switch\">\n      <input\n        type=\"checkbox\"\n        onChange={() => dispatch({ type: 'toggleNote', payload: { id } })}\n      />\n      <span className=\"slider round\" />\n    </label>\n  );\n}\n\nexport { Note, ToggleNoteButton };\n","import TextareaAutosize from 'react-autosize-textarea';\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './Blocks.css';\n\nfunction useTrait(initialValue) {\n  // forces synchronous updates for caret\n  const [trait, updateTrait] = useState(initialValue);\n  let current = trait;\n  const get = () => current;\n  const set = (newValue) => {\n    current = newValue;\n    updateTrait(newValue);\n    return current;\n  };\n  return {\n    get,\n    set,\n  };\n}\n\nexport default function Text({ id }) {\n  const caretCounter = useTrait(0);\n  const dispatch = useDispatch();\n  const txt = useSelector((state) => state.blocks.present.txts)[id];\n\n  return (\n    <TextareaAutosize\n      id={id}\n      className=\"text\"\n      placeholder=\"paste hebrew here\"\n      onSelect={() => {\n        const e = document.activeElement;\n        caretCounter.set(e.selectionStart);\n        dispatch({\n          type: 'updateId',\n          payload: {\n            id,\n            caret: caretCounter.get(),\n          },\n        });\n      }}\n      onChange={() => {\n        const e = document.activeElement;\n        caretCounter.set(e.selectionStart);\n        dispatch({\n          type: 'updateText',\n          payload: {\n            id,\n            txt: document.activeElement.value,\n            caret: caretCounter.get(),\n          },\n        });\n      }}\n      // onClick={(e) => {\n      //   if (e.ctrlKey || e.metaKey || e.shiftKey) return 0; // ignore shift clicks\n      //   dispatch(updateCaret(100)); //updateOnSelect(id, dispatch); //dispatch(updateMouseAction(id));\n      // }}\n      value={txt}\n    />\n  );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Note, ToggleNoteButton } from './Note';\nimport Text from './Text';\nimport './Blocks.css';\n\nexport default function Blocks() {\n  const order = useSelector((state) => state.blocks.present.order);\n\n  const blocks = order.map((id) => (\n    <div className=\"block\" key={id}>\n      <ToggleNoteButton id={id} />\n      <Text id={id} />\n      <Note id={id} />\n    </div>\n  ));\n  return blocks;\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport './HeaderButtons.css';\nimport { ActionCreators } from 'redux-undo';\n\nexport function MergeButton() {\n  const dispatch = useDispatch();\n  return (\n    <button type=\"button\" onClick={() => dispatch({ type: 'mergeText' })}>\n      merge\n    </button>\n  );\n}\n\nexport function SplitButton() {\n  const dispatch = useDispatch();\n  return (\n    <button type=\"button\" onClick={() => dispatch({ type: 'splitText' })}>\n      split\n    </button>\n  );\n}\n\nexport function RedoButton() {\n  const dispatch = useDispatch();\n  return (\n    <button type=\"button\" onClick={() => dispatch(ActionCreators.redo())}>\n      redo\n    </button>\n  );\n}\n\nexport function UndoButton() {\n  const dispatch = useDispatch();\n  // const UndoButton = (\n  return (\n    <button\n      type=\"button\"\n      onClick={() => {\n        dispatch(ActionCreators.undo());\n      }}\n    >\n      undo\n    </button>\n  );\n}\n\nexport default function HeaderButtons() {\n  return (\n    <div className=\"header_buttons\">\n      {UndoButton()}\n      {RedoButton()}\n      {MergeButton()}\n      {SplitButton()}\n    </div>\n  );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEwSURBVDiN1dFNK6xhGAfw3zyPt8epSVGasaApdcKeklj4BGflC1jIhuKLWFrYkNVZKhakrMRCEkU6HXVo5C2lkQxjY4HOM83bxn93X1f3r//dzXfNGFYruRjEzEPSjdipFYjRGyayJI6RqAEooH2E6TPCc9RXCSbed8kBZg6pv8KPasAPz4z6mT0iukRrDUBo6GP2gOYzdFYAFv7zEUEvM6e07KOvTDC2Q4apLG0bGPq6rSsdyh2wkuS2jYducrCIrjIb3m2xfE9THUcB2RQPIa/hV6wE8GKTuQwnf3jJ8fMZqWI3ioDrLcy3U+jBOGsRv66xUAmY598jBt7PJ+x10ZCmoxdRHBjGzA+x9HlU+Esyw1CW7UGsFGtaYqInJn+jUG7DmOTz7AYYRr6qbqXmDXXeQx0BaLXiAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFISURBVDiN1dPBSpRhFIfx35lvBhkEEcrFaJEM1EJdBglRtuoaAi8haBORIHgN3oMuW4ngxghchLYIYjJQJJQQJ2IWUSnS4OdmxBz6dMbPjf/dOYf34TkHXq5rnmHpMg8LGf3EkB58uCqgeBqNeB51YQORG4iCiifxKnYkdlHKB4zWrM94TMW6kh/ozQM8XbPsQUzHF2XfceNywPa7FY3FVNT02sGdfIYnSYzG69jS7xPGujXMUqjGy6gb8BaP2sfFjkH7aulC2qfhpt/u+gPmMNydYcNKOpf+1KPos4I9Fb8kjiTtsIuBu96ls2nVhq+O7BvxF5VOl/o3k25bwWqrvue+1ZiJZRf88SzDpm8OMN6qN300rGTQLaMoZwGTjP465s90Utv6VeNx1L33EIvnmXaWssN4EW+Qdmv4/zQ1rSlgAs18dh3mGALgR6kw54/AAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF5SURBVDiN1dM/SEJRFMfx77tP6z0DMZPCFIqgP5C0CP0ZgobWoiEoaA+kJeE9CCe39mgJ2gKnaHoQQRE0RUQUlZBEZaC+6B+RPAgpWyLEkPLP0m+753I/nMPhwn/NNLBZyUNRoi4HW1vrJTioFcji6OjjcShk2iTpApCqBiUQfS0tIzfhcFKR5RRgrwoUkiQAfE7nYErTzh12+z3QUA34PaZbVQcedD3uVtU7oKlqEECtqwuYun7a7HAkgbayQfL5H4uwC9Gb0bTLNpfrBAiUB5bqQIiO6/l5s9vj2QGGi+9tf4XuLes0ZBjO66cnTyab7XywLIA1oL2sDq+en/fGYrGXRkWxbcTj4sg0vZlsVs59fMjF2K/gYTq927m01GEkEle593droqcnB3j/OlVhZob8/j1g/+vcNRsM7r9GIttU+MengK3Cgk0IMx+Nxvt9vltArQQtzuTq+PhmMhw2gJVagDSq6tvZ3Nw6kK8JCCwAy4BSK/DXfAJAEmjAhZgYGAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGhSURBVDiN1ZO7SxxRFIe/e2fGcRw0PtFVE5eN2SWslY2CSCRdILUI/hOSQoQQCyWNKChikVKSUrAJiOAD1kJRC4MPiCbBFR8bZU2WVVfdWSeNBF+j+0iTrzvncj9+51wu/K+0AGPpXJQOfaUi260LxPy/EvKqtDncVt0dksivgMhYiECW6ZVNHd6+oCrUHUDLSCgREuCRVlD/1jewqsmsA8BMWygQf8fMUcy6Tt/QmqGYP4Gi9IRCXNtbltRqOn2Dy6aaFwSqUhbaiFsPIYX0v/P1fyvQir4ANSkJnRBIT4e3N1SiuyaBxpvnarKi48TR8ujecF74fL84Gv/97CRxBPARcKeU8PD8IDC81R/JUUx1JbIod2NBV9SKKAk7odyUPSjcPt2c7tlo96xFl35YF9aJP7c2DriSneoqrU+MpwFg7rL21hU2zXU9/zDBA3/cKaG1FfseA+ov6/WFXwG3LvXyx4bHDxhOQsWhvwp8utqwsTfztULPy5LXoZnweAPw+b6kSWEo5tmb6vcjgJ1qwjux7Lg1ezglgReAlWG+5PgDolNwtncDrn4AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFOSURBVDiN1dPPSgJRFMfx7/yR1CCYKQRxYQiTi8SNYLkIegHBRVDQXvANegNfoE3grm24EiQoAlcSIoYmBOE4gcyE0yKEIGZhiyJEDP/MbPrt7jncD+dwufBfcwJUV7ko/lGXUinWBIF7r0CKRd5aLSxZ5gkQXIOCgJhMctjvY/j9DACfK1AUv3uRCPuDAY/BIENg3Q34u6aqsmfbdFWVV2DTNQgQCJCwLNqhEAYQXRpkxkP4fOyaJs/RKA9AYllw9gQiMV3Hise5BQ6m+/Ki0HBIu1BgQ9fZMk002wbgEtheasJej1o2y7uiIJfLiM0mYdNEchykaWwu2Ghwp2nEKhV6jsNHLocDhBfdajKnmQw1oP5z3snnqY9G3LDiHz8GricLsow1HtNNp3kBAqug0zkqlagaBhXgwgsQReGz0+EKGHsCAmfAOeD3CpybL9FoV7e/DIRGAAAAAElFTkSuQmCC\"","import React from 'react';\nimport './css/GraphContextMenu.css';\nimport { ContextMenu, MenuItem, SubMenu } from 'react-contextmenu';\nimport { useDispatch } from 'react-redux';\nimport blue from './cursors/blue.png';\nimport green from './cursors/green.png';\nimport pink from './cursors/pink.png';\nimport purple from './cursors/purple.png';\nimport red from './cursors/red.png';\nimport yellow from './cursors/yellow.png';\n\nexport const MODES = {\n  Mikrei: { cursor: blue, color: 'blue' },\n  Din: { cursor: green, color: 'green' },\n  Taahm: { cursor: pink, color: 'pink' },\n  Koteret: { cursor: purple, color: 'purple' },\n  אמירה: { cursor: red, color: 'red' },\n  שאלה: { cursor: yellow, color: 'yellow' },\n  תשובה: { cursor: blue, color: 'blue' },\n  קושיא: { cursor: green, color: 'green' },\n  תירוץ: { cursor: pink, color: 'pink' },\n  ראיה: { cursor: purple, color: 'purple' },\n  סיוע: { cursor: yellow, color: 'yellow' },\n};\n\nconst LAYOUT = {\n  mishnah: ['Mikrei', 'Din', 'Taahm', 'Koteret'],\n  talmud: ['אמירה', 'שאלה', 'תשובה', 'קושיא', 'תירוץ', 'ראיה', 'סיוע'],\n};\n\nexport const NodeMenuId = 'node_menu';\n\nexport default function GraphContextMenu() {\n  // updates State and changes cursor color\n  const handleClick = (event, data, element) => {\n    const { target, mode, dispatch } = data;\n    const { id } = target;\n    // document.body.style.cursor = `url(${cursor}), auto`;\n    dispatch({ type: 'setMode', payload: { mode, id } });\n  };\n  const dispatch = useDispatch();\n\n  return (\n    <ContextMenu id={NodeMenuId} className=\"context-menu\">\n      {Object.keys(LAYOUT).map((book) => (\n        <SubMenu title={book} key={book}>\n          {LAYOUT[book].map((mode) => (\n            <MenuItem\n              onClick={handleClick}\n              data={{ mode, dispatch }}\n              key={mode}\n            >\n              {mode}\n            </MenuItem>\n          ))}\n        </SubMenu>\n      ))}\n    </ContextMenu>\n  );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEmSURBVDiN1dNLK8RRFADw3zzkVcqQkgWpYUE2ymMhvoCyUJS98kl8A6XsbGWlpEjNapJEHqU0jNKMhoWUaKZYjKTJZGb+Ns7unnPvr3M6Xf5rzGO7lofhMvnIMPUhDv4KtMzjMdkolwgFBkOEh5i6Id3AHeoCgeHPWhdjd5w3kUNzEPBrzBijD1zEuEdbYBAaGcxy2kEa3VWDflhEHQMZrro5wWC1YLkOeq/J9rOHidJ6tFIox+kSLde0Z4g/FNPr6KmqwxSJaZ5aiW4SPqIzQyRPpBT7FTxkP07vFqk8LzPk0VnpVN9jYZwEkp/nvkWSz+yq8Y/PYed7Ikr2nYsRbtFYC1oas2tsp9nC6l+AWnk7YwPv5e5EqgFfKawUFzmJQsD+KosPAjpB0C8TyesAAAAASUVORK5CYII=\"","import { useSelector, useDispatch } from 'react-redux';\nimport { ContextMenuTrigger } from 'react-contextmenu';\nimport React from 'react';\nimport Draggable from 'react-draggable';\nimport { NodeMenuId } from './GraphContextMenu';\nimport './css/Nodes.css';\n\nconst Node = (id, position, txt, dispatch) => {\n  const handleDrag = (e, d) => {\n    dispatch({\n      type: 'updatePosition',\n      payload: {\n        id: e.srcElement.id,\n        x: d.lastX + d.deltaX,\n        y: d.lastY + d.deltaY,\n      },\n    });\n  };\n  const [x, y] = position;\n  return (\n    <ContextMenuTrigger id={NodeMenuId} key={id}>\n      <Draggable\n        onStop={handleDrag}\n        onDrag={handleDrag}\n        key={id}\n        defaultPosition={{ x, y }}\n      >\n        <div className=\"node\" id={id}>\n          {txt}\n        </div>\n      </Draggable>\n    </ContextMenuTrigger>\n  );\n};\n\nexport default function Nodes() {\n  const dispatch = useDispatch();\n  const positions = useSelector((state) => state.blocks.present.positions);\n  const order = useSelector((state) => state.blocks.present.order);\n  const txts = useSelector((state) => state.blocks.present.txts);\n\n  const nodes = order.map((id) => Node(id, positions[id], txts[id], dispatch));\n  return nodes;\n}\n","import { useSelector } from 'react-redux';\nimport React from 'react';\nimport Xarrow from 'react-xarrows';\n\nexport default function SequentialPath() {\n  const order = useSelector((state) => state.blocks.present.order);\n  // triggers re-render on state change\n  const positions = useSelector((state) => state.blocks.present.positions);\n\n  const links = {};\n  for (let i = 0; i < order.length - 1; i += 1) {\n    links[order[i]] = order[i + 1];\n  }\n\n  const path = [];\n  Object.keys(links).forEach((key) =>\n    path.push(\n      <Xarrow\n        key={key}\n        start={key}\n        end={links[key]}\n        strokeWidth={1}\n        lineColor=\"grey\"\n        headColor=\"grey\"\n        dashness\n      />\n    )\n  );\n  return path;\n}\n","import React from 'react';\nimport './css/NodeConnections.css';\nimport { ContextMenu, MenuItem, SubMenu } from 'react-contextmenu';\nimport { useDispatch } from 'react-redux';\n\nexport const ConnectionMenuId = 'connection_menu';\n\nexport default function ConnectionContextMenu() {\n  // updates State and changes cursor color\n  const handleClick = (event, data, element) => {\n    const { target, reducerType, dispatch } = data;\n    const { id } = target.parentElement.parentElement;\n    dispatch({ type: reducerType, payload: {id}  });\n  };\n  const dispatch = useDispatch();\n  return (\n    <ContextMenu id={ConnectionMenuId}>\n        <MenuItem\n          onClick={handleClick}\n          data={{reducerType: \"deleteConnection\", dispatch: dispatch}}\n          key='deleteConnection'\n          >\n          {\"delete\"}\n        </MenuItem>\n    </ContextMenu>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nfunction onClick(event, graph, dispatch) {\n  switch (event.target.classList[0]) {\n    case 'react-contextmenu-item': {\n      // Entered Connection Mode\n      break;\n    }\n    case 'node': {\n      if (graph.selectedNode !== null) {\n        // console.log('In Connection Mode');\n        if (graph.selectedNode === event.target.id) {\n          // console.log('Same ID Clicked');\n        } else if (\n          graph.connections.includes([graph.selectedNode, event.target.id])\n        ) {\n          // console.log('Connection Already in Present');\n        } else {\n          dispatch({\n            type: 'addConnection',\n            payload: {\n              connection: [graph.selectedNode, event.target.id, graph.mode],\n            },\n          });\n        }\n      }\n      dispatch({ type: 'resetMode' });\n      break;\n    }\n    default:\n      dispatch({ type: 'resetMode' });\n      break;\n  }\n}\n\nexport default function NodeConnectionListener() {\n  const graph = useSelector((state) => state.blocks.present.graph);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    function f(e) {\n      return onClick(e, graph, dispatch);\n    }\n    document.addEventListener('click', f);\n    return () => {\n      document.removeEventListener('click', f);\n    };\n  }, [graph]);\n  return <></>;\n}\n","import { useSelector } from 'react-redux';\nimport { ContextMenuTrigger } from 'react-contextmenu';\nimport React from 'react';\nimport Xarrow from 'react-xarrows';\nimport { MODES } from './GraphContextMenu';\nimport { ConnectionMenuId } from './ConnectionContextMenu';\nimport './css/NodeConnections.css';\n\n\nexport default function NodeConnections() {\n  const connections = useSelector(\n    (state) => state.blocks.present.graph.connections\n  );\n  // triggers re-render on state change\n  const positions = useSelector((state) => state.blocks.present.positions);\n  var test = -50;\n  const anchors = {}\n  return connections.map((connection) => {\n    const start = connection[0];\n    const end = connection[1];\n    const mode = connection[2];\n    \n    anchors.hasOwnProperty(start) ? anchors[start] += 1 : anchors[start] = 0;\n    anchors.hasOwnProperty(end) ? anchors[end] += 1 : anchors[end] = 0;\n\n    var sideStartOffset = anchors[start]\n    if (sideStartOffset % 2 === 0) {sideStartOffset/=-2}\n    var sideEndOffset = anchors[end]\n    if (sideEndOffset % 2 === 0) {sideEndOffset/=-2}\n\n    var longStartOffset =anchors[start]\n    \n\n    const yspacing = 20\n    const xspacing = 20\n\n    return (\n      <ContextMenuTrigger id={ConnectionMenuId} key={start+end+mode}>\n      <Xarrow\n        key={start + end + mode}\n        id={start + end + mode}\n        start={start}\n        end={end}\n        startAnchor = {[\n          {position: \"right\", offset: {bottomness: yspacing*sideStartOffset, rightness:0}}, \n          {position: \"left\", offset: {bottomness: yspacing*sideStartOffset, rightness:0}},\n          {position: \"bottom\", offset: {bottomness: 0, rightness: xspacing*longStartOffset}},\n          {position: \"top\", offset: {bottomness: 0, rightness: xspacing*longStartOffset}}\n        ]}\n        endAnchor = {[\n          {position: \"right\", offset: {bottomness: yspacing*sideEndOffset, rightness: 0}}, \n          {position: \"left\", offset: {bottomness: yspacing*sideEndOffset, rightness: 0}},\n          {position: \"bottom\", offset: {bottomness: 0, rightness: xspacing*longStartOffset}},\n          {position: \"top\", offset: {bottomness: 0, rightness: xspacing*longStartOffset}}\n        ]}\n        strokeWidth={3}\n        headSize={5}\n        lineColor={MODES[mode].color}\n        headColor={MODES[mode].color}\n        arrowBodyProps = {{className: \"arrow_body\"}}\n        arrowHeadProps = {{className: \"arrow_head\"}}\n        SVGcanvasProps = {{className: \"svg\"}}\n        // path=\"grid\"\n        label={{\n          middle: (\n            <div\n              className=\"arrow_label\"\n              style={{\n                color: MODES[mode].color,\n                transform: 'translate(100%, 0%)',\n              }}\n            >\n              {mode[0]}\n            </div>\n          ),\n        }}\n      />\n      </ContextMenuTrigger>\n    );\n  });\n}\n","import './App.css';\nimport React from 'react';\nimport Blocks from './features/blocks/Blocks';\nimport HeaderButtons from './features/HeaderButtons/HeaderButtons';\nimport Graph from './features/graph/Graph';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className=\"graph\">{Graph()}</div>\n      <div className=\"right_panel\">\n        {HeaderButtons()}\n        <Blocks />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport './css/Graph.css';\nimport Nodes from './Nodes';\nimport SequentialPath from './SequentialPath';\nimport GraphContextMenu from './GraphContextMenu';\nimport ConnectionContextMenu from './ConnectionContextMenu'\nimport NodeConnectionListener from './NodeConnectionListener';\nimport NodeConnections from './NodeConnections';\n\nexport default function Graph() {\n  return (\n    <>\n      <div className=\"canvas\">\n        <Nodes />\n        <SequentialPath />\n        <NodeConnections />\n      </div>\n      <GraphContextMenu />\n      <ConnectionContextMenu />\n      <NodeConnectionListener />\n    </>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { nanoid } from '@reduxjs/toolkit';\n\nconst initialState = {\n  caret: -1,\n  activeId: 'id1',\n  order: ['id1'],\n  txts: { id1: '' },\n  notes: { id1: '' },\n  views: { id1: false },\n  positions: { id1: [0, 0] },\n  graph: { connections: [], mode: null, selectedNode: null },\n};\n\nexport default function BlocksReducer(state = initialState, action) {\n  switch (action.type) {\n    case 'updateId':\n      return {\n        ...state,\n        caret: action.payload.caret,\n        activeId: action.payload.id,\n      };\n    case 'updateText':\n      return {\n        ...state,\n        txts: { ...state.txts, [action.payload.id]: action.payload.txt },\n      };\n    case 'splitText': {\n      const id1 = state.activeId;\n      const index = state.order.indexOf(id1);\n      const id2 = nanoid();\n      const textOne = state.txts[id1].substr(0, state.caret);\n      const textTwo = state.txts[id1].substr(state.caret);\n      const newOrder = [...state.order];\n      newOrder.splice(index + 1, 0, id2);\n\n      const pos = state.positions[id1];\n      const newPosition = [pos[0], pos[1] + 100];\n      return {\n        ...state,\n        activeId: id2,\n        order: newOrder,\n        txts: { ...state.txts, [id1]: textOne, [id2]: textTwo },\n        notes: { ...state.notes, [id2]: '' },\n        views: { ...state.views, [id2]: false },\n        positions: { ...state.positions, [id2]: newPosition },\n      };\n    }\n    case 'mergeText': {\n      const id2 = state.activeId;\n      const idx = state.order.indexOf(id2);\n      if (idx === 0) {\n        return state; // not possible to merge up first block\n      }\n      const id1 = state.order[idx - 1];\n      const newOrder = [...state.order];\n      newOrder.splice(idx, 1);\n\n      const newConnections = state.graph.connections\n        .map((connection) =>\n          connection.map((id) => {\n            if (id === id2) {\n              return id1;\n            }\n            return id;\n          })\n        )\n        .filter((connection) => connection[0] !== connection[1]);\n\n      return {\n        ...state,\n        activeId: id1,\n        order: newOrder,\n        txts: { ...state.txts, [id1]: state.txts[id1] + state.txts[id2] },\n        notes: {\n          ...state.notes,\n          [id1]: state.notes[id1] + state.notes[id2],\n        },\n        graph: { ...state.graph, connections: newConnections },\n      };\n    }\n    case 'toggleNote': {\n      const { id } = action.payload;\n      return { ...state, views: { ...state.views, [id]: !state.views[id] } };\n    }\n    case 'updateNote': {\n      const { id } = action.payload;\n      const e = document.activeElement;\n      return { ...state, notes: { ...state.notes, [id]: e.value } };\n    }\n    case 'updatePosition': {\n      const { id, x, y } = action.payload;\n      return { ...state, positions: { ...state.positions, [id]: [x, y] } };\n    }\n    case 'setMode':\n      return {\n        ...state,\n        graph: {\n          ...state.graph,\n          mode: action.payload.mode,\n          selectedNode: action.payload.id,\n        },\n      };\n    case 'resetMode':\n      return {\n        ...state,\n        graph: { ...state.graph, mode: null, selectedNode: null },\n        mode: '',\n        id: null,\n      };\n    case 'addConnection':\n      // Verify that connection does not already exist\n      if (state.graph.connections\n            .filter(c => c.toString() === action.payload.connection.toString() )\n            .length > 0 \n          && state.graph.connections.length > 0) {\n        return state\n      }\n      // Add connection\n      return {\n        ...state,\n        graph: {\n          ...state.graph,\n          connections: [...state.graph.connections, action.payload.connection],\n        },\n      };\n    case 'deleteConnection': {\n      const newConnections = state.graph.connections.filter(connection => connection[0] + connection[1] + connection[2] !== action.payload.id)\n      return {\n        ...state,\n        graph: { ...state.graph, connections: newConnections },\n      }\n    }\n    default:\n      return state;\n  }\n}\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const ArgButtonsSlice = createSlice({\n  name: 'args',\n  initialState: {\n    connection_color: null, // color of current selected arrow type\n    tail_selected: false, // specifies if prior click was on valid node\n    tail_id: null, // id of prior node click\n  },\n  reducers: {\n    updateColor: (state, action) => {\n      state.connection_color = action.color;\n      state.tail_selected = false;\n      state.tail_id = null;\n    },\n    updateTail: (state, action) => {\n      state.tail_selected = true;\n      state.tail_id = action.id;\n    },\n    resetToDragging: (state) => {\n      state.connection_color = null;\n      state.tail_selected = false;\n      state.tail_id = null;\n    },\n  },\n});\n\nexport const {\n  updateColor,\n  updateTail,\n  resetToDragging,\n} = ArgButtonsSlice.actions;\nexport default ArgButtonsSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport undoable, { excludeAction } from 'redux-undo';\nimport blocksReducer from '../features/blocks/BlocksReducer';\nimport ArgsButtonsReducer from '../features/ArgButtons/ArgButtonsSlice';\n\nexport default configureStore({\n  reducer: {\n    blocks: undoable(blocksReducer, {\n      filter: excludeAction([\n        'updateId',\n        'updateCaret',\n        'updatePosition',\n        'toggleNote',\n        'updateNote',\n        'resetMode',\n        'setMode',\n      ]),\n    }),\n    args: ArgsButtonsReducer,\n  },\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './app/store';\n\nReactDOM.render(\n  // <React.StrictMode>\n  //   <App />\n  // </React.StrictMode>,\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}