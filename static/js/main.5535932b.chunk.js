(this["webpackJsonplove-the-args"]=this["webpackJsonplove-the-args"]||[]).push([[0],{19:function(e,t,n){},28:function(e,t,n){},35:function(e,t,n){},41:function(e,t,n){},47:function(e,t,n){},50:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(9),r=n.n(o),a=(n(35),n(4)),i=(n(41),n(15)),s=n.n(i),A=(n(19),n(1));function d(e){var t=e.id,n=Object(a.c)((function(e){return e.blocks.present.notes[t]})),c=Object(a.c)((function(e){return e.blocks.present.views[t]})),o=Object(a.b)();return!1===c||void 0===c?Object(A.jsx)("div",{}):Object(A.jsx)(s.a,{id:t,class:"note",onSelect:function(){return o({type:"updateNote",payload:{id:t}})},onChange:function(){return o({type:"updateNote",payload:{id:t}})},onClick:function(e){if(e.ctrlKey||e.metaKey||e.shiftKey)return 0;o({type:"updateNote",payload:{id:t}})},value:n})}function l(e){var t=e.id,n=Object(a.b)();return Object(A.jsxs)("label",{className:"switch",children:[Object(A.jsx)("input",{type:"checkbox",onChange:function(){return n({type:"toggleNote",payload:{id:t}})}}),Object(A.jsx)("span",{className:"slider round"})]})}var u=n(17);function b(e){var t=e.id,n=function(e){var t=Object(c.useState)(e),n=Object(u.a)(t,2),o=n[0],r=n[1],a=o;return{get:function(){return a},set:function(e){return a=e,r(e),a}}}(0),o=Object(a.b)(),r=Object(a.c)((function(e){return e.blocks.present.txts}))[t];return Object(A.jsx)(s.a,{id:t,className:"text",placeholder:"paste hebrew here",onSelect:function(){var e=document.activeElement;n.set(e.selectionStart),o({type:"updateId",payload:{id:t,caret:n.get()}})},onChange:function(){var e=document.activeElement;n.set(e.selectionStart),o({type:"updateText",payload:{id:t,txt:document.activeElement.value,caret:n.get()}})},value:r})}function j(){return Object(a.c)((function(e){return e.blocks.present.order})).map((function(e){return Object(A.jsxs)("div",{className:"block",children:[Object(A.jsx)(l,{id:e}),Object(A.jsx)(b,{id:e}),Object(A.jsx)(d,{id:e})]},e)}))}n(47);var p=n(11),O=n.n(p);function g(){var e=Object(a.b)();return Object(A.jsx)("button",{type:"button",onClick:function(){return e({type:"mergeText"})},children:"merge"})}function f(){var e=Object(a.b)();return Object(A.jsx)("button",{type:"button",onClick:function(){return e({type:"splitText"})},children:"split"})}function h(){var e=Object(a.b)();return Object(A.jsx)("button",{type:"button",onClick:function(){return e(p.ActionCreators.redo())},children:"redo"})}function m(){var e=Object(a.b)();return Object(A.jsx)("button",{type:"button",onClick:function(){e(p.ActionCreators.undo())},children:"undo"})}n(50);var v=n(8),C=n(30),N=n.n(C),x=(n(54),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEwSURBVDiN1dFNK6xhGAfw3zyPt8epSVGasaApdcKeklj4BGflC1jIhuKLWFrYkNVZKhakrMRCEkU6HXVo5C2lkQxjY4HOM83bxn93X1f3r//dzXfNGFYruRjEzEPSjdipFYjRGyayJI6RqAEooH2E6TPCc9RXCSbed8kBZg6pv8KPasAPz4z6mT0iukRrDUBo6GP2gOYzdFYAFv7zEUEvM6e07KOvTDC2Q4apLG0bGPq6rSsdyh2wkuS2jYducrCIrjIb3m2xfE9THUcB2RQPIa/hV6wE8GKTuQwnf3jJ8fMZqWI3ioDrLcy3U+jBOGsRv66xUAmY598jBt7PJ+x10ZCmoxdRHBjGzA+x9HlU+Esyw1CW7UGsFGtaYqInJn+jUG7DmOTz7AYYRr6qbqXmDXXeQx0BaLXiAAAAAElFTkSuQmCC"),y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFISURBVDiN1dPBSpRhFIfx35lvBhkEEcrFaJEM1EJdBglRtuoaAi8haBORIHgN3oMuW4ngxghchLYIYjJQJJQQJ2IWUSnS4OdmxBz6dMbPjf/dOYf34TkHXq5rnmHpMg8LGf3EkB58uCqgeBqNeB51YQORG4iCiifxKnYkdlHKB4zWrM94TMW6kh/ozQM8XbPsQUzHF2XfceNywPa7FY3FVNT02sGdfIYnSYzG69jS7xPGujXMUqjGy6gb8BaP2sfFjkH7aulC2qfhpt/u+gPmMNydYcNKOpf+1KPos4I9Fb8kjiTtsIuBu96ls2nVhq+O7BvxF5VOl/o3k25bwWqrvue+1ZiJZRf88SzDpm8OMN6qN300rGTQLaMoZwGTjP465s90Utv6VeNx1L33EIvnmXaWssN4EW+Qdmv4/zQ1rSlgAs18dh3mGALgR6kw54/AAAAAAElFTkSuQmCC",B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF5SURBVDiN1dM/SEJRFMfx77tP6z0DMZPCFIqgP5C0CP0ZgobWoiEoaA+kJeE9CCe39mgJ2gKnaHoQQRE0RUQUlZBEZaC+6B+RPAgpWyLEkPLP0m+753I/nMPhwn/NNLBZyUNRoi4HW1vrJTioFcji6OjjcShk2iTpApCqBiUQfS0tIzfhcFKR5RRgrwoUkiQAfE7nYErTzh12+z3QUA34PaZbVQcedD3uVtU7oKlqEECtqwuYun7a7HAkgbayQfL5H4uwC9Gb0bTLNpfrBAiUB5bqQIiO6/l5s9vj2QGGi+9tf4XuLes0ZBjO66cnTyab7XywLIA1oL2sDq+en/fGYrGXRkWxbcTj4sg0vZlsVs59fMjF2K/gYTq927m01GEkEle593droqcnB3j/OlVhZob8/j1g/+vcNRsM7r9GIttU+MengK3Cgk0IMx+Nxvt9vltArQQtzuTq+PhmMhw2gJVagDSq6tvZ3Nw6kK8JCCwAy4BSK/DXfAJAEmjAhZgYGAAAAABJRU5ErkJggg==",k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGhSURBVDiN1ZO7SxxRFIe/e2fGcRw0PtFVE5eN2SWslY2CSCRdILUI/hOSQoQQCyWNKChikVKSUrAJiOAD1kJRC4MPiCbBFR8bZU2WVVfdWSeNBF+j+0iTrzvncj9+51wu/K+0AGPpXJQOfaUi260LxPy/EvKqtDncVt0dksivgMhYiECW6ZVNHd6+oCrUHUDLSCgREuCRVlD/1jewqsmsA8BMWygQf8fMUcy6Tt/QmqGYP4Gi9IRCXNtbltRqOn2Dy6aaFwSqUhbaiFsPIYX0v/P1fyvQir4ANSkJnRBIT4e3N1SiuyaBxpvnarKi48TR8ujecF74fL84Gv/97CRxBPARcKeU8PD8IDC81R/JUUx1JbIod2NBV9SKKAk7odyUPSjcPt2c7tlo96xFl35YF9aJP7c2DriSneoqrU+MpwFg7rL21hU2zXU9/zDBA3/cKaG1FfseA+ov6/WFXwG3LvXyx4bHDxhOQsWhvwp8utqwsTfztULPy5LXoZnweAPw+b6kSWEo5tmb6vcjgJ1qwjux7Lg1ezglgReAlWG+5PgDolNwtncDrn4AAAAASUVORK5CYII=",w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFOSURBVDiN1dPPSgJRFMfx7/yR1CCYKQRxYQiTi8SNYLkIegHBRVDQXvANegNfoE3grm24EiQoAlcSIoYmBOE4gcyE0yKEIGZhiyJEDP/MbPrt7jncD+dwufBfcwJUV7ko/lGXUinWBIF7r0CKRd5aLSxZ5gkQXIOCgJhMctjvY/j9DACfK1AUv3uRCPuDAY/BIENg3Q34u6aqsmfbdFWVV2DTNQgQCJCwLNqhEAYQXRpkxkP4fOyaJs/RKA9AYllw9gQiMV3Hise5BQ6m+/Ki0HBIu1BgQ9fZMk002wbgEtheasJej1o2y7uiIJfLiM0mYdNEchykaWwu2Ghwp2nEKhV6jsNHLocDhBfdajKnmQw1oP5z3snnqY9G3LDiHz8GricLsow1HtNNp3kBAqug0zkqlagaBhXgwgsQReGz0+EKGHsCAmfAOeD3CpybL9FoV7e/DIRGAAAAAElFTkSuQmCC",U={Mikrei:{cursor:x,color:"blue"},Din:{cursor:y,color:"green"},Taahm:{cursor:B,color:"pink"},Koteret:{cursor:k,color:"purple"},"\u05d0\u05de\u05d9\u05e8\u05d4":{cursor:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEmSURBVDiN1dNLK8RRFADw3zzkVcqQkgWpYUE2ymMhvoCyUJS98kl8A6XsbGWlpEjNapJEHqU0jNKMhoWUaKZYjKTJZGb+Ns7unnPvr3M6Xf5rzGO7lofhMvnIMPUhDv4KtMzjMdkolwgFBkOEh5i6Id3AHeoCgeHPWhdjd5w3kUNzEPBrzBijD1zEuEdbYBAaGcxy2kEa3VWDflhEHQMZrro5wWC1YLkOeq/J9rOHidJ6tFIox+kSLde0Z4g/FNPr6KmqwxSJaZ5aiW4SPqIzQyRPpBT7FTxkP07vFqk8LzPk0VnpVN9jYZwEkp/nvkWSz+yq8Y/PYed7Ikr2nYsRbtFYC1oas2tsp9nC6l+AWnk7YwPv5e5EqgFfKawUFzmJQsD+KosPAjpB0C8TyesAAAAASUVORK5CYII=",color:"red"},"\u05e9\u05d0\u05dc\u05d4":{cursor:w,color:"yellow"},"\u05ea\u05e9\u05d5\u05d1\u05d4":{cursor:x,color:"blue"},"\u05e7\u05d5\u05e9\u05d9\u05d0":{cursor:y,color:"green"},"\u05ea\u05d9\u05e8\u05d5\u05e5":{cursor:B,color:"pink"},"\u05e8\u05d0\u05d9\u05d4":{cursor:k,color:"purple"},"\u05e1\u05d9\u05d5\u05e2":{cursor:w,color:"yellow"}},E={mishnah:["Mikrei","Din","Taahm","Koteret"],talmud:["\u05d0\u05de\u05d9\u05e8\u05d4","\u05e9\u05d0\u05dc\u05d4","\u05ea\u05e9\u05d5\u05d1\u05d4","\u05e7\u05d5\u05e9\u05d9\u05d0","\u05ea\u05d9\u05e8\u05d5\u05e5","\u05e8\u05d0\u05d9\u05d4","\u05e1\u05d9\u05d5\u05e2"]},R="node_menu";function S(){var e=function(e,t,n){var c=t.target,o=t.mode;(0,t.dispatch)({type:"setMode",payload:{mode:o,id:c.id}})},t=Object(a.b)();return Object(A.jsx)(v.a,{id:R,className:"context-menu",children:Object.keys(E).map((function(n){return Object(A.jsx)(v.d,{title:n,children:E[n].map((function(n){return Object(A.jsx)(v.c,{onClick:e,data:{mode:n,dispatch:t},children:n},n)}))},n)}))})}n(55);function P(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.blocks.present.positions})),n=Object(a.c)((function(e){return e.blocks.present.order})),c=Object(a.c)((function(e){return e.blocks.present.txts}));return n.map((function(n){return function(e,t,n,c){var o=function(e,t){c({type:"updatePosition",payload:{id:e.srcElement.id,x:t.lastX+t.deltaX,y:t.lastY+t.deltaY}})},r=Object(u.a)(t,2),a=r[0],i=r[1];return Object(A.jsx)(v.b,{id:R,children:Object(A.jsx)(N.a,{onStop:o,onDrag:o,defaultPosition:{x:a,y:i},children:Object(A.jsx)("div",{className:"node",id:e,children:n})},e)},e)}(n,t[n],c[n],e)}))}var I=n(12),Q=n.n(I);function Y(){for(var e=Object(a.c)((function(e){return e.blocks.present.order})),t=(Object(a.c)((function(e){return e.blocks.present.positions})),{}),n=0;n<e.length-1;n+=1)t[e[n]]=e[n+1];var c=[];return Object.keys(t).forEach((function(e){return c.push(Object(A.jsx)(Q.a,{start:e,end:t[e],strokeWidth:1,lineColor:"grey",headColor:"grey",dashness:!0},e))})),c}n(28);var F="connection_menu";function K(){var e=Object(a.b)();return Object(A.jsx)(v.a,{id:F,children:Object(A.jsx)(v.c,{onClick:function(e,t,n){var c=t.target,o=t.reducerType;(0,t.dispatch)({type:o,payload:{id:c.parentElement.parentElement.id}})},data:{reducerType:"deleteConnection",dispatch:e},children:"delete"},"deleteConnection")})}function G(){var e=Object(a.c)((function(e){return e.blocks.present.graph})),t=Object(a.b)();return Object(c.useEffect)((function(){function n(n){return function(e,t,n){switch(e.target.classList[0]){case"react-contextmenu-item":break;case"node":null!==t.selectedNode&&(t.selectedNode===e.target.id||t.connections.includes([t.selectedNode,e.target.id])||n({type:"addConnection",payload:{connection:[t.selectedNode,e.target.id,t.mode]}})),n({type:"resetMode"});break;default:n({type:"resetMode"})}}(n,e,t)}return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}),[e]),Object(A.jsx)(A.Fragment,{})}function V(){var e=Object(a.c)((function(e){return e.blocks.present.graph.connections})),t=(Object(a.c)((function(e){return e.blocks.present.positions})),{});return e.map((function(e){var n=e[0],c=e[1],o=e[2];t.hasOwnProperty(n)?t[n]+=1:t[n]=0,t.hasOwnProperty(c)?t[c]+=1:t[c]=0;var r=t[n];r%2===0&&(r/=-2);var a=t[c];a%2===0&&(a/=-2);var i=t[n];return Object(A.jsx)(v.b,{id:F,children:Object(A.jsx)(Q.a,{id:n+c+o,start:n,end:c,startAnchor:[{position:"right",offset:{bottomness:20*r,rightness:0}},{position:"left",offset:{bottomness:20*r,rightness:0}},{position:"bottom",offset:{bottomness:0,rightness:20*i}},{position:"top",offset:{bottomness:0,rightness:20*i}}],endAnchor:[{position:"right",offset:{bottomness:20*a,rightness:0}},{position:"left",offset:{bottomness:20*a,rightness:0}},{position:"bottom",offset:{bottomness:0,rightness:20*i}},{position:"top",offset:{bottomness:0,rightness:20*i}}],strokeWidth:3,headSize:5,lineColor:U[o].color,headColor:U[o].color,arrowBodyProps:{className:"arrow_body"},arrowHeadProps:{className:"arrow_head"},SVGcanvasProps:{className:"svg"},label:{middle:Object(A.jsx)("div",{className:"arrow_label",style:{color:U[o].color,transform:"translate(100%, 0%)"},children:o[0]})}},n+c+o)},n+c+o)}))}var D=function(){return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)("div",{className:"graph",children:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"canvas",children:[Object(A.jsx)(P,{}),Object(A.jsx)(Y,{}),Object(A.jsx)(V,{})]}),Object(A.jsx)(S,{}),Object(A.jsx)(K,{}),Object(A.jsx)(G,{})]})}),Object(A.jsxs)("div",{className:"right_panel",children:[Object(A.jsxs)("div",{className:"header_buttons",children:[m(),h(),g(),f()]}),Object(A.jsx)(j,{})]})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),r(e),a(e)}))},z=n(10),M=n(18),T=n(7),q=n(3),J={caret:-1,activeId:"id1",order:["id1"],txts:{id1:""},notes:{id1:""},views:{id1:!1},positions:{id1:[0,0]},graph:{connections:[],mode:null,selectedNode:null}};var H=Object(z.b)({name:"args",initialState:{connection_color:null,tail_selected:!1,tail_id:null},reducers:{updateColor:function(e,t){e.connection_color=t.color,e.tail_selected=!1,e.tail_id=null},updateTail:function(e,t){e.tail_selected=!0,e.tail_id=t.id},resetToDragging:function(e){e.connection_color=null,e.tail_selected=!1,e.tail_id=null}}}),X=H.actions,W=(X.updateColor,X.updateTail,X.resetToDragging,H.reducer),Z=Object(z.a)({reducer:{blocks:O()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateId":return Object(q.a)(Object(q.a)({},e),{},{caret:t.payload.caret,activeId:t.payload.id});case"updateText":return Object(q.a)(Object(q.a)({},e),{},{txts:Object(q.a)(Object(q.a)({},e.txts),{},Object(T.a)({},t.payload.id,t.payload.txt))});case"splitText":var n,c=e.activeId,o=e.order.indexOf(c),r=Object(z.c)(),a=e.txts[c].substr(0,e.caret),i=e.txts[c].substr(e.caret),s=Object(M.a)(e.order);s.splice(o+1,0,r);var A=e.positions[c],d=[A[0],A[1]+100];return Object(q.a)(Object(q.a)({},e),{},{activeId:r,order:s,txts:Object(q.a)(Object(q.a)({},e.txts),{},(n={},Object(T.a)(n,c,a),Object(T.a)(n,r,i),n)),notes:Object(q.a)(Object(q.a)({},e.notes),{},Object(T.a)({},r,"")),views:Object(q.a)(Object(q.a)({},e.views),{},Object(T.a)({},r,!1)),positions:Object(q.a)(Object(q.a)({},e.positions),{},Object(T.a)({},r,d))});case"mergeText":var l=e.activeId,u=e.order.indexOf(l);if(0===u)return e;var b=e.order[u-1],j=Object(M.a)(e.order);j.splice(u,1);var p=e.graph.connections.map((function(e){return e.map((function(e){return e===l?b:e}))})).filter((function(e){return e[0]!==e[1]}));return Object(q.a)(Object(q.a)({},e),{},{activeId:b,order:j,txts:Object(q.a)(Object(q.a)({},e.txts),{},Object(T.a)({},b,e.txts[b]+e.txts[l])),notes:Object(q.a)(Object(q.a)({},e.notes),{},Object(T.a)({},b,e.notes[b]+e.notes[l])),graph:Object(q.a)(Object(q.a)({},e.graph),{},{connections:p})});case"toggleNote":var O=t.payload.id;return Object(q.a)(Object(q.a)({},e),{},{views:Object(q.a)(Object(q.a)({},e.views),{},Object(T.a)({},O,!e.views[O]))});case"updateNote":var g=t.payload.id,f=document.activeElement;return Object(q.a)(Object(q.a)({},e),{},{notes:Object(q.a)(Object(q.a)({},e.notes),{},Object(T.a)({},g,f.value))});case"updatePosition":var h=t.payload,m=h.id,v=h.x,C=h.y;return Object(q.a)(Object(q.a)({},e),{},{positions:Object(q.a)(Object(q.a)({},e.positions),{},Object(T.a)({},m,[v,C]))});case"setMode":return Object(q.a)(Object(q.a)({},e),{},{graph:Object(q.a)(Object(q.a)({},e.graph),{},{mode:t.payload.mode,selectedNode:t.payload.id})});case"resetMode":return Object(q.a)(Object(q.a)({},e),{},{graph:Object(q.a)(Object(q.a)({},e.graph),{},{mode:null,selectedNode:null}),mode:"",id:null});case"addConnection":return e.graph.connections.filter((function(e){return e.toString()===t.payload.connection.toString()})).length>0&&e.graph.connections.length>0?e:Object(q.a)(Object(q.a)({},e),{},{graph:Object(q.a)(Object(q.a)({},e.graph),{},{connections:[].concat(Object(M.a)(e.graph.connections),[t.payload.connection])})});case"deleteConnection":var N=e.graph.connections.filter((function(e){return e[0]+e[1]+e[2]!==t.payload.id}));return Object(q.a)(Object(q.a)({},e),{},{graph:Object(q.a)(Object(q.a)({},e.graph),{},{connections:N})});default:return e}}),{filter:Object(p.excludeAction)(["updateId","updateCaret","updatePosition","toggleNote","updateNote","resetMode","setMode"])}),args:W}});r.a.render(Object(A.jsx)(a.a,{store:Z,children:Object(A.jsx)(D,{})}),document.getElementById("root")),L()}},[[61,1,2]]]);
//# sourceMappingURL=main.5535932b.chunk.js.map